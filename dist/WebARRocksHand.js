/**
 * WebAR.rocks.hand
 *
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * This code is released under dual licensing:
 *   - GPLv3 
 *   - Nominative commercial license
 * Please read https://github.com/WebAR-rocks/WebAR.rocks.hand/blob/master/LICENSE
 * 
*/

var WEBARROCKSHAND=(function(){window.WEBARROCKSHAND=function(){function Vb(a){var c=null,d=null,e=null,g=0,k=this;this.o=function(n){this.kg(n.Db);e.Ve({Ic:n.Ic,Ec:n.Ec})};this.Af=function(n){return c[n]};this.kg=function(n){var p=null;g=n.length;c=n.map(function(m,t){m=Object.assign({},m,{index:t,parent:k,Kb:p,Of:t===g-1});return p=t=0===t?Wb.instance(m):Xb.instance(m)});d=c[0];e=c[g-1];c.forEach(function(m,t){0!==t&&m.$f()})};this.V=function(n){n.h(0);var p=n;c.forEach(function(m){p=m.V(p,!1)});return p};this.zf=function(){return d.D()};
this.Df=function(){return e.D()};this.ic=function(){return e.Cf()};this.Cd=function(){return e.Cd()};this.m=function(){c&&(c.forEach(function(n){n.m()}),e=d=c=null,g=0)};"undefined"!==typeof a&&this.o(a)}function ob(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function Gb(a,c,d){var e=1,g=0;for(d=c+d-1;d>=c;--d)g+=e*ob(a,d),e*=2;return g}function Hb(a){a=a.data;a="undefined"===typeof btoa?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var c=a.length,d=new Uint8Array(c),e=0;e<c;++e)d[e]=a.charCodeAt(e);
return d}function pb(a){return"string"===typeof a?JSON.parse(a):a}function Yb(a){if("undefined"===typeof pb(a).nb){var c=pb(a);a=c.ne;var d=c.nf,e=c.n;c=Hb(c);for(var g=new Float32Array(e),k=new Float32Array(d),n=a+d+1,p=0;p<e;++p){var m=n*p,t=0===ob(c,m)?1:-1,w=Gb(c,m+1,a);m=m+1+a;for(var A=k.length,y=0,r=m;r<m+A;++r)k[y]=ob(c,r,!0),++y;for(A=m=0;A<d;++A)m+=k[A]*Math.pow(2,-A-1);g[p]=0===m&&0===w?0:t*(1+m)*Math.pow(2,1+w-Math.pow(2,a-1))}a=g}else if(e=pb(a),a=e.nb,0===a)a=new Uint8Array(e.nb);else{d=
e.n;e=Hb(e);c=new Uint32Array(d);for(g=0;g<d;++g)c[g]=Gb(e,g*a,a);a=c}return a}function qb(){da.splice(0);Da.splice(0);la.Lb=[];var a=ba.ja();la.Qc=new Uint8Array(a);la.Ya=new Uint32Array(a);la.Oa=new Uint8Array(a);for(var c=0;c<a;++c)da.push(null),Da.push(null),la.Lb.push(new Int8Array(na.switchNNConsecutiveIterations))}function Ya(){if(ha===ea.play)return!1;if(null===D.element)return ha=ea.te,!1;ha=ea.play;Ua.stop();Ga.Id();Ib(0);return!0}function rb(){if(ha!==ea.play)return!1;ua.stop();Ua.stop();
ha=ea.pause;return!0}function Ha(a,c,d,e,g){a=4*(c*za+a)+d;return e+(fa.buffer[a]/255+fa.buffer[a+4*za]/65025)*(g-e)}function Zb(){var a=ba.ja();Aa.N();b.viewport(0,0,za,2*a);H.set("s52");fa.ya.h(0);fa.cb.h(1);U.l(!1,!1);return X.enableAsyncReadPixels?Z.Nb(0,0,za,2*a,fa.buffer,sb,X.readPixelsAsyncDelay):Z.he(0,0,za,2*a,fa.buffer)}function $b(){var a=pa[0],c=pa[1];if(!a.isDetected||!c.isDetected)return!1;if(da[0].U===da[1].U){a=Math.floor(2*Math.random());var d=da[0===a?1:0].U;da[a]=ja.find(function(p){return p.U!==
d});Da[a]=da[a];return!1}var e=a.rz,g=c.rz,k=-Math.sin(e)-Math.sin(g);e=Math.cos(e)+Math.cos(g);if(0===k&&0===e)return!1;g=(a.x-c.x)*T.jb;var n=a.y-c.y;if(0===g&&0===n||Math.sign((g*e-n*k)*da[0].U)===X.multiDetectionForceChirality)return!1;k=da[0];da[0]=da[1];da[1]=k;k=a.isRightHand;a.isRightHand=c.isRightHand;c.isRightHand=k;a.detected=1.2;c.detected=1.2;Da[0]=da[0];Da[1]=da[1];return!0}function ac(a){var c=tb?Da[a]:da[a];if(null!==c){var d=Pa[a],e=ub[a],g=pa[a],k=2*a,n=c.Kc;d.Ta=Ha(1,k,1,0,1);g.detected=
La.Ga(g.detected,d.Ta,ta.Ee);g.isDetected=g.detected>X.threshold;g.neuralNetworkInd=c.$;d.x=Ha(0,k,1,-1,1);d.y=Ha(0,k,2,-1,1);d.P=Ha(0,k,3,0,2);if(g.isDetected){d.xa=Ha(1,k,0,-n,n);var p=Ha(1,k,2,-1,1);n=Ha(1,k,3,-1,1);switch(c.Fc){case Za.Ub:d.$a=c.U*p;d.Va=n;break;case Za.bd:var m=c.T,t=m&&m.isFlipped;p*=n;d.$a=m&&m.isRightHand?p:-p;d.Va=t?n:-n}for(n=0;n<Ma.yc;++n)m=2+Math.floor(n/2),d.rc[n][0]=c.U*Ha(m,k,n%2*2,-1.2,1.2),d.rc[n][1]=Ha(m,k,n%2*2+1,-1.2,1.2);e.dx=d.x-g.x;e.dy=d.y-g.y;e.cf=d.P-g.s;
e.bf=P.sa?d.xa:d.xa-g.rz;e.Xe=d.$a-g.rightHand;e.We=d.Va-g.flipped;e=Math.pow(bc.Uf(na.qualityFactorRange[0],na.qualityFactorRange[1],d.Ta),ta.Fe);k=La.Ga(na.alphaRange[1],na.alphaRange[0],e);g.quality=e;vb[a]=e<na.qualityGoodDetectionThreshold?hb.Ge:hb.Hf;g.x=La.Ga(g.x,d.x,k);g.y=La.Ga(g.y,d.y,k);g.s=La.Ga(g.s,d.P,k);g.rightHand=d.$a;g.flipped=d.Va;var w=1,A=0;P.sa?(w=Math.cos(g.rz),A=Math.sin(g.rz),g.rz+=c.U*Math.max(na.followZRotAlphaFactorRange[0],na.followZRotAlphaFactorRange[1]*k)*d.xa,g.rz>
Math.PI&&(g.rz-=2*Math.PI),g.rz<-Math.PI&&(g.rz+=2*Math.PI)):g.rz=La.Ga(g.rz,d.xa,k);g.isRightHand=X.disableIsRightHandNNEval?c.T.isRightHand:0<g.rightHand;g.isFlipped=0<g.flipped;for(var y in c.T)g[y]=c.T[y];g.landmarks.forEach(function(r,I){var G=d.rc[I];I=d.Tf[I];var f=G[0];G=G[1];if(P.sa){var C=G*w+f*A;f=f*w-G*A;G=C}I[0]=d.x+f*d.P;I[1]=d.y+G*d.P*T.jb;r[0]=I[0];r[1]=I[1]});++d.va}else c=g.detected<X.thresholdSignal,P.sa&&(P.dc&&c?(g.rz+=1.5*n,g.rz>Math.PI&&(g.rz-=2*Math.PI)):P.dc||(g.rz=0)),vb[a]=
hb.ae,d.va=Math.floor(d.va/2)}}function cc(a,c){var d=da[a];return ja.find(function(e){if(e===d)return!1;var g=!0,k;for(k in e.T){var n=e.T[k],p=d.T[k];if(k===c||"isFlipped"===k)p=!p;n=n===p;g=(g=g&&n)&&(n||na.NNSwitchMask[k])}return g})||d}function Ib(){ha===ea.play&&(X.isCleanGLStateAtEachIteration&&(H.sd(),U.reset(),U.Aa(),b.disable(b.DEPTH_TEST),H.Ha()),P.pc?ua.Jc(dc,Zb,ec,sb,Jb,X.animateProcessOrder):(Kb(),sb(),Jb()))}function dc(){Aa.fa();D.Xa||Kb();var a=ua.Bf();ba.update(a,pa);var c=[];++la.Za;
for(var d=0;d<a;++d){var e=ba.Rb(d),g=-1!==c.indexOf(e);g||c.push(e);var k=da[e];if(null===k)k=ja[0];else if(pa[e].isDetected){g=da[e];if(la.Ya[e]>na.switchNNMinIterations){var n=void 0;var p=da[e],m=Pa[e],t=0;var w=null;for(n in p.T){var A=Math.abs((p.T[n]?1:-1)-{isRightHand:m.$a,isFlipped:m.Va}[n])/2;A/=Math.max(.01,m.Ta);A>t&&(t=A,w=n)}n=t;n>na.switchNNErrorThreshold&&(g=cc(e,w))}if(g){k=la.Lb[e];k[la.Oa[e]]=g.$;la.Oa[e]=(la.Oa[e]+1)%na.switchNNConsecutiveIterations;if(w=g.$!==da[e].$)for(n=0;n<
na.switchNNConsecutiveIterations&&(w=g.$===k[n],w);++n);w?(k=g,++la.Qc[e],la.Ya[e]=0):(k=da[e],++la.Ya[e])}}else if(!g)for(X.multiDetectionForceSearchOnOtherSide&&(g=ba.mf(pa),-1!==g&&(k=ja[(da[g].$+1)%ja.length])),k&&X.multiDetectionForceSearchOnOtherSide||(k=null===Da[e]?0:Da[e].$,g=(k+1)%ja.length,g=tb&&0!==la.Za%3?k:g,k=ja[g]),la.Qc[e]=0,la.Ya[e]=0,g=la.Oa[e]=0;g<na.switchNNConsecutiveIterations;++g)la.Lb[e][g]=-1;da[e]=k;e=ba.Dd();if(k=da[e])g=ba.ja(),H.set("s54"),H.F("u43",k.U),P.sa&&H.F("u42",
pa[e].rz),ba.we("u41"),T.Ca.ba(),D.I.h(1),fa.ya.h(0),U.l(!1,!1),fa.cb.v(),H.set("s3"),b.viewport(0,e,za,1),H.ca("u6",1,1/g),H.ca("u7",0,e/g),U.l(!1,!1),k.model.V(T.Ca),Da[e]=k}0!==X.multiDetectionForceChirality&&$b();ua.Rb()}function sb(){Aa.Cg();aa.reset();X.isCleanGLStateAtEachIteration&&(Aa.reset(),b.enable(b.DEPTH_TEST));P.Wb&&P.Wb(ba.Vd()?pa:pa[0]);X.isCleanGLStateAtEachIteration&&(U.reset(),U.Aa(),b.disable(b.BLEND))}function ec(){for(var a=0;a<ba.ja();++a)ba.Sf(a)&&ac(a);X.multiDetectionEqualizeSearchSlotScale&&
ba.jf(pa)}function Jb(){ha===ea.play&&Ua.Jc(Ib)}function Kb(){if(D.zb)D.element.needsUpdate&&(D.I.pe(D.element.videoWidth,D.element.videoHeight),D.I.Ja(D.element.arrayBuffer),D.element.needsUpdate=!1);else{var a=D.element.currentTime,c=a-D.Mb;0>c&&(D.Mb=a);1E3*c<ta.Fg||(D.Mb+=c,D.I.refresh())}}function fc(){function a(g,k){H.S(g,[{name:"u37",type:"1f",value:k/za}])}function c(){return Ma.labels.map(function(){return[0,0]})}var d=ba.ja();za=2+Ma.Ac;var e=new Float32Array(4*za);e={width:za,height:d,
isFloat:!0,isPot:!1,array:ba.df(e)};fa.ya=gc.instance(e);fa.cb=aa.instance(e);fa.buffer=new Uint8Array(8*za*d);fa.Pc=e.array;a("s53",.5);a("s52",1);a("s54",.5);Pa=ba.ac({Ta:0,x:0,y:0,P:1,xa:0,$a:0,Va:0,rc:c(),Tf:c(),va:0});pa=ba.ac({detected:0,isDetected:!1,x:0,y:0,s:1,rz:0,neuralNetworkInd:-1,isRightHand:!0,isFlipped:!1,rightHand:0,flipped:0,quality:0,landmarks:c()});ub=ba.ac({dx:0,dy:0,cf:0,bf:0,Xe:0,We:0})}function hc(){ja.forEach(function(a){a.model&&a.model.m()});ja.splice(0);qb();Ga.m();ub=
pa=Pa=null}function wb(){H.S("s54",[{type:"1i",name:"u1",value:1},{type:"1i",name:"u39",value:0},{type:"2f",name:"u40",value:T.G},{type:"1f",name:"u41",value:.5},{type:"1f",name:"u42",value:0}]);var a=[{type:"1i",name:"u44",value:0},{type:"1f",name:"u50",value:fa.size}];H.S("s53",[{type:"1i",name:"u39",value:1},{type:"1f",name:"u47",value:ta.Ag},{type:"1f",name:"u48",value:X.threshold},{type:"1f",name:"u41",value:.5},{type:"1f",name:"u49",value:1},{type:"1f",name:"u42",value:0}].concat(a));H.S("s56",
[{type:"1f",name:"u49",value:1}].concat(a));H.S("s57",a);H.S("s52",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u52",value:1},{type:"1f",name:"u54",value:.5*T.G[0]},{type:"2f",name:"u53",value:[0,.5/ba.ja()]}])}function xb(){fa.size=ja[0].model.Df();T.G[0]=1;T.G[1]=T.C/T.H;Qa.o({Jb:X.overlapFactors,$d:X.nScaleLevels,C:T.C,H:T.H,je:X.scale0Factor,W:ja[0].W})}function Lb(a){if(null!==P.eb)Mb(P.eb,a);else{if(!P.fb)throw Error("You should provide neural networks through NNs or NNsPath option");ic(P.fb,
function(c){Mb(c,a)})}}function ic(a,c){var d=a.length,e=Array(d),g=0;a.forEach(function(k,n){ib.get(k,function(p){p=JSON.parse(p);p.Ce=k.split("/").pop();e[n]=p;++g===d&&c(e)})})}function Mb(a,c){(a.length?a:[a]).forEach(jc);c(a)}function jc(a,c){var d=0,e=ta.W.slice(0),g=null,k=Za.Ub;if(a.exportData){var n=a.exportData;n.rzMax&&(d=n.rzMax*kc);n.translationScalingFactors&&(e=n.translationScalingFactors);n.evaluationConditions&&(g=n.evaluationConditions);n.outputFormat&&(k={ABSOLUTE:Za.Ub,RELATIVE:Za.bd}[n.outputFormat]);
0===c&&lc(n,Ma)}ja.push({Kc:d,T:g,id:a.Ce,W:e,U:1,$:-1,model:null,Fc:k})}function lc(a,c){c.ee=a.keypoints;c.labels=a.keypoints.map(function(d){return d.label});c.yc=a.keypoints.length;c.Ac=Math.ceil(c.yc/2)}function mc(a,c){a=new Vb({Db:a.layers,Ic:"gpuRawAvg",Ec:nc});ja[c].model=a}function oc(){if(Ga.o({mb:P.X,width:T.C,height:T.H,Md:!1,debug:!1,Cc:function(){Ra("GLCONTEXT_LOST")},antialias:!1,premultipliedAlpha:!0}))return!0;Ra("GL_INCOMPATIBLE");return!1}function nc(){var a=ba.Dd(),c=da[a],d=
Da[a],e=pa[a];fa.ya.ig(1);b.viewport(0,a,1,1);H.set("s53");H.F("u43",c.U);c!==d&&(c=c.W,d=X.translationScalingFactors,H.pg("u46",c[0]*d[0]*T.G[0],c[1]*d[1]*T.G[1],c[2]*d[2]));P.sa&&H.F("u42",e.rz);ba.we("u41");c=1;d=ba.ug(Pa,pa,T.C/T.H);ba.Vd()&&(d&&(c=0,Pa[a].va=0,e.isDetected=!1,e.detected=0,Qa.ag(a)),H.F("u49",c));H.qg("u45",Qa.get(a));U.l(!1,!1);if(ba.Ud()||d)b.viewport(1,a,1,1),H.set("s56"),H.F("u49",c),U.l(!1,!1);ba.Ud()&&(b.viewport(2,a,Ma.Ac,1),H.set("s57"),U.l(!1,!1));fa.ya.sync()}function Nb(){D.I&&
D.I.remove();D.zb=D.element.isFakeVideo?!0:!1;var a=null;D.zb?a={isFlipY:!1,array:D.element.arrayBuffer,width:D.element.videoWidth,height:D.element.videoHeight,isKeepArray:!0}:D.element&&(a={J:D.element});D.Rc=aa.instance(Object.assign({isPot:!1,isLinear:!0,isFloat:!1},a));D.I=D.Rc}function Va(){var a=[{type:"mat2",name:"u38",value:D.u}];H.S("s55",[{type:"1i",name:"u1",value:0}].concat(a));H.S("s54",a)}function Wa(){var a=[.5,.5],c=D.G[1]/D.G[0],d=Ga.Y()/Ga.D();90===Math.abs(va.rotate)&&(c=1/c);c>
d?a[1]*=d/c:a[0]*=c/d;H.S("s53",[{name:"u51",type:"1f",value:d}]);D.u[0]=0;D.u[1]=0;D.u[2]=0;D.u[3]=0;switch(va.rotate){case 0:D.u[0]=a[0];D.u[3]=a[1];break;case 180:D.u[0]=-a[0];D.u[3]=-a[1];break;case 90:D.u[1]=a[0];D.u[2]=-a[1];break;case -90:D.u[1]=-a[0],D.u[2]=a[1]}D.da[0]=D.u[0];D.da[1]=D.u[1];D.da[2]=D.u[2];D.da[3]=D.u[3];D.Xa||(D.u[1]*=-1,D.u[3]*=-1);D.Xa&&D.Od&&(D.da[1]*=-1,D.da[3]*=-1)}function yb(){var a=D.element.videoWidth,c=D.element.videoHeight,d=D.G[0]!==a||D.G[1]!==c;d&&(D.G[0]=a,
D.G[1]=c);return d}function $a(a,c){if(ha===ea.error)return!1;D.element=a;yb();c&&c();return!0}function zb(a){D.Bc&&D.Bc();D.Qa={video:{facingMode:{ideal:va.facingMode},width:{min:va.minWidth,max:va.maxWidth,ideal:va.idealWidth},height:{min:va.minHeight,max:va.maxHeight,ideal:va.idealHeight}},audio:!1};V.dd(D.Qa,va.deviceId);V.get(D.element?D.element:V.Gd(),function(c){D.Dc&&D.Dc(c);a(c)},function(){Ra("WEBCAM_UNAVAILABLE")},D.Qa)}function Ra(a){ha!==ea.error&&(ha=ea.error,P.Pa&&P.Pa(a))}function pc(){for(var a=
ja.length,c=0;c<a;++c){var d=ja[c],e=d.T;e&&!0===e.isRightHand&&(e=Object.assign({},e,{isRightHand:!1}),ja.push({Kc:d.Kc,T:e,id:d.id?d.id.replace("_R","_L")+"(GEN)":"GEN",W:d.W,U:-1,$:-1,model:d.model,Fc:d.Fc}))}}function Ob(a){a.forEach(mc);ta.gf&&pc();ja.forEach(function(c,d){c.$=d});fc();xb();T.Ca&&T.Ca.remove();T.Ca=aa.instance({isPot:!0,isFloat:!1,width:ja[0].model.zf()});wb()}function qc(a){if(!oc())return!1;H.fd([{id:"s55",name:"_",za:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0*vec2(1.,-1.);}",
kb:["a0"],Ma:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u38"],precision:"lowp"},{id:"s54",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",za:"attribute vec2 a0;uniform sampler2D u39;uniform mat2 u38;uniform vec2 u40;uniform float u41,u37,u42,u43;varying vec2 vv0;void main(){vec2 d=a0*vec2(u43,1.);vec4 a=texture2D(u39,vec2(u37,u41));vec2 f=a.gb,g=a.a*u40;float b=cos(u42),c=sin(u42);vec2 h=mat2(b,c,-c,b)*d,i=f+.5*h*g;vv0=.5+2.*u38*(i-.5),gl_Position=vec4(a0,0.,1.);}",
kb:["a0"],Ma:[2],i:"u1 u39 u40 u41 u37 u42 u43 u38".split(" "),precision:"lowp"},{id:"s53",name:"_",g:"uniform sampler2D u44,u39;uniform vec3 u45,u46;uniform float u47,u48,u41,u37,u49,u50,u42,u51,u43;const vec4 e=vec4(.25,.25,.25,.25);void main(){float b=(u50-.5)/u50;vec4 f=texture2D(u44,vec2(.5/u50,b)),a=texture2D(u39,vec2(u37,u41));bool g=dot(f,e)>u48;a.r<-.5?a.r+=1.:g?a.r=2.:a.r>u47?a.r=0.:a.r>1.9?a.r+=1.:0.,a.r=mix(-2.,a.r,u49);if(a.r<.9)a=vec4(1.,u45);else{a.r*=step(1.9,a.r);float h=-u43*dot(e,texture2D(u44,vec2(1.5/u50,b))),i=-dot(e,texture2D(u44,vec2(2.5/u50,b))),j=-dot(e,texture2D(u44,vec2(3.5/u50,b))),c=cos(u42),d=sin(u42);vec2 k=mat2(c,d*u51,-d/u51,c)*vec2(h,i);a.gba+=vec3(k,j)*u46*a.a;}gl_FragColor=a;}",
za:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",i:"u44 u39 u45 u47 u46 u49 u48 u41 u37 u50 u43 u42 u51".split(" ")},{id:"s56",name:"_",za:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u44;uniform float u50,u49;const vec4 e=vec4(.25,.25,.25,.25);void main(){float a=(u50-.5)/u50,b=-dot(e,texture2D(u44,vec2(4.5/u50,a))),c=dot(e,texture2D(u44,vec2(.5/u50,a))),d=dot(e,texture2D(u44,vec2(5.5/u50,a))),f=dot(e,texture2D(u44,vec2(6.5/u50,a)));vec4 g=.5+vec4(b*u49,c*u49,d,f)*.5;gl_FragColor=g;}",
i:["u44","u50","u49"]},{id:"s57",name:"_",za:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u44;uniform float u50;const vec4 e=vec4(.25,.25,.25,.25),h=vec4(.5,.5,.5,.5);vec2 f(float a){float b=floor(a/u50),c=a-b*u50;return vec2(c,u50-.5-b)/u50;}vec2 g(float a){vec2 b=f(a*2.),c=f(a*2.+1.);float d=dot(e,texture2D(u44,b)),i=dot(e,texture2D(u44,c));return vec2(d,i);}void main(){float a=2.*gl_FragCoord.x;vec2 b=g(a-1.),c=g(a);gl_FragColor=h+.5*vec4(b,c)/1.2;}",i:["u44",
"u50"]},{id:"s52",name:"_",g:"uniform sampler2D u39,u52;uniform vec2 u53;uniform float u54,u37;varying vec2 vv0;void main(){float g=step(.5,mod(gl_FragCoord.y+1.5,2.)),a=step(u37,vv0.x);vec2 d=vv0+u53;vec4 b=mix(texture2D(u52,d),texture2D(u39,d),vec4(1.,a,a,a));b.a*=mix(u54,1.,a);vec4 f=floor(255.*b),h=255.*(255.*b-f),c=mix(f,h,g)/255.;c.x=mix(step(b.x,1.5),c.x,a),gl_FragColor=c;}",i:["u39","u52","u54","u53","u37"]}]);Ob(a);jb()}function jb(){if(!kb&&ha!==ea.Hb&&ha!==ea.error&&2===++Pb){Nb();null!==
D.element&&(Wa(),Va());for(var a=ba.ja(),c=0;c<a;++c)vb.push(hb.ae);Ab=!0;P.Pa&&P.Pa(!1,{GL:b,canvasElement:P.X,video:D.element,videoTexture:D.I?D.I.get():null,videoTransformMat2:D.u,maxHandsDetected:a,landmarksLabels:Ma.labels});Ya()}}var Bb=null,La={Eh:function(a){return Math.ceil(Math.log2(a))},$h:function(a){return Math.log2(a)},Wh:function(a){return 0===Math.log2(a)%1},Pg:function(a){var c=[0,0,0,0];a.forEach(function(d){c[0]+=d[0];c[1]+=d[1];c[2]+=d[2];c[3]+=d[3]});return c},Qg:function(a,c,
d){return Math.min(Math.max(a,c),d)},Tg:function(a){return a*Math.PI/180},gi:function(a,c){c=Math.pow(10,c);return Math.round(a*c)/c},hi:function(a){return Math.round(1E6*a)/1E6},Fh:function(a,c){return(100*a/c).toFixed(3)},Ga:function(a,c,d){return a*(1-d)+c*d},ai:function(a,c){return a[0]*(1-c)+a[1]*c},af:function(a,c){return La.Re(a-c)},Re:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},Yg:function(a,c){return Math.abs(La.af(a,c))},Gg:function(a,c){return Math.atan2(Math.sin(a)+
Math.sin(c),Math.cos(a)+Math.cos(c))}},ib={get:function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?c(e.responseText):"undefined"!==typeof d&&d(e.status))};e.send()},Ef:function(a){return new Promise(function(c,d){ib.get(a,c,d)})},Bh:function(a,c,d){a+=d?"?"+ib.hf(d):"";ib.get(a,function(e){c(JSON.parse(e))})},ci:function(a,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type",
"application/x-www-form-urlencoded");e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(c)},hf:function(a){return"string"===typeof a?a:Object.keys(a).map(function(c){return encodeURIComponent(c)+"="+encodeURIComponent(a[c])}).join("&")},ph:function(a,c){var d=new XMLHttpRequest;d.open("POST",a,!0);d.responseType="arraybuffer";d.onload=function(){c(d.response)};d.send()}},rc={create:function(a,c){for(var d=Array(c),e=0;e<c;++e)d[e]=a;return d},
Ug:function(a,c){for(var d=0;d<a.length;++d)c[d]=a[d]},clone:function(a){for(var c=Array(a.length),d=0;d<a.length;++d)c[d]=a[d];return c},ki:function(a,c,d){a.forEach(function(e,g){c[g]=e*d})},ri:function(a){for(var c=a.length-1;0<c;--c){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}},ti:function(a){return a.sort(function(c,d){return c-d})},zg:function(a){return Array.isArray(a)||a.constructor===Float32Array||a.constructor===Uint8Array}},Cb={Zb:function(a,c){if(0===c||"object"!==typeof a)return a;
a=Object.assign({},a);c=void 0===c||-1===c?-1:c-1;for(var d in a)a[d]=Cb.Zb(a[d],c);return a},Xg:function(a){return JSON.parse(JSON.stringify(a))}},bc={si:function(a,c,d){a=Math.min(Math.max((d-a)/(c-a),0),1);return a*a*(3-2*a)},Uf:function(a,c,d){return Math.min(Math.max((d-a)/(c-a),0),1)},jh:function(a,c,d,e){return Math.pow(Math.min(Math.max((e-a)/(c-a),0),1),d)},yi:function(){return 0},bi:function(){return 1},Zh:function(a){return a},gh:function(a){return a*a},lh:function(a){return a*(2-a)},dh:function(a){return.5>
a?2*a*a:-1+(4-2*a)*a},ah:function(a){return a*a*a},kh:function(a){return--a*a*a+1},bh:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},hh:function(a){return a*a*a*a},mh:function(a){return 1- --a*a*a*a},eh:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},ih:function(a){return a*a*a*a*a},nh:function(a){return 1+--a*a*a*a*a},fh:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},sc={qf:function(a,c,d){switch(a){case "relu":return d+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return d+"=mix(exp(-abs("+
c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return d+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+c+",step(0.,"+c+"));";case "arctan":return d+"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},H=function(){function a(u,q,l){q=u.createShader(q);u.shaderSource(q,l);u.compileShader(q);return u.getShaderParameter(q,u.COMPILE_STATUS)?q:null}function c(u,q,l){q=a(u,u.VERTEX_SHADER,q);l=a(u,u.FRAGMENT_SHADER,l);u===b&&p.push(q,l);var K=
u.createProgram();u.attachShader(K,q);u.attachShader(K,l);u.linkProgram(K);return K}function d(u){return["float","sampler2D","int"].map(function(q){return"precision "+u+" "+q+";\n"}).join("")}function e(u,q){q.B=q.B?!0:!1;if(!q.B){q.za=q.za||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}";q.kb=q.kb||["a0"];q.Ma=q.Ma||[2];q.precision=q.precision||y;q.id=w++;void 0!==q.me&&(q.me.forEach(function(N,O){q.g=q.g.replace(N,q.Ob[O])}),
q.me.splice(0));q.Yc=0;q.Ma.forEach(function(N){q.Yc+=4*N});var l=d(q.precision);q.wa=c(u,l+q.za,l+q.g);q.A={};q.i.forEach(function(N){q.A[N]=u.getUniformLocation(q.wa,N)});q.attributes={};q.Na=[];q.kb.forEach(function(N){var O=u.getAttribLocation(q.wa,N);q.attributes[N]=O;q.Na.push(O)});if(q.j){u.useProgram(q.wa);t=q;m=q.id;for(var K in q.j)u.uniform1i(q.A[K],q.j[K])}q.ua=!0}}function g(u){Ba.ng(z);m!==u.id&&(z.L(),m=u.id,t=u,b.useProgram(u.wa),u.Na.forEach(function(q){0!==q&&b.enableVertexAttribArray(q)}))}
function k(u,q,l){e(u,q,l);u.useProgram(q.wa);u.enableVertexAttribArray(q.attributes.a0);m=-1;return t=q}function n(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],j:{u1:0}}}var p=[],m=-1,t=null,w=0,A=!1,y="highp",r=["u1"],I=["u0"],G={u1:0},f={u0:0},C={u1:0,u2:1},B={u1:0,u3:1},h=["u1","u3","u4"],E={u5:0},v={s0:n(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:r,j:G,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
i:["u1","u2"],j:C},s3:{g:"uniform sampler2D u1;uniform vec2 u6,u7;varying vec2 vv0;void main(){vec2 a=vv0*u6+u7;gl_FragColor=texture2D(u1,a);}",i:["u1","u6","u7"],j:G,B:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:r,j:G},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],j:C},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
i:r,j:G},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:r,j:G},s8:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u6;}",i:["u0","u6"],j:f},s9:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u6,f);gl_FragColor=b*g;}",i:["u0","u6"],j:f},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
i:r,j:G},s11:{g:"uniform sampler2D u1,u8;uniform float u9;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u8,vv0);gl_FragColor=mix(b,a,u9*f);}",i:["u1","u8","u9"],j:{u1:0,u8:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u10)+texture2D(u1,vv0+u10*vec2(1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,1.)));}",i:["u1","u10"],j:G},s13:{g:"uniform sampler2D u1;uniform vec4 u11;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u11);gl_FragColor=j(a);}",
i:["u1","u11"],j:G},s14:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:I,j:f,B:!0},s15:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:I,j:f},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:I,j:f},
s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:I,j:f},s18:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:I,j:f},s19:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",i:I,j:f,B:!0},s20:{g:"uniform sampler2D u0,u12;uniform float u13;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u12,e);float b=u13*u13;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",
i:["u0","u12","u13"],j:{u0:0,u12:1},B:!0},s21:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),f=floor(u14.x*fract(b*u14.y)),g=(f*u14.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",i:["u1","u14"],j:G},s22:{g:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u15","u16","u17"],j:{u16:0,u15:1,
u17:2},B:!0},s23:{g:"uniform float u18,u19;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 c=fract(vv0*u18),a=vv0;float b=u18*u19;a=(.5+floor(b*vv0))/b;vec4 d=texture2D(u15,a),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u16","u15","u18","u19"],j:{u16:0,u15:1}},s24:{g:"uniform float u18,u19;uniform sampler2D u15,u16,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u18),d=vv0;float h=u18*u19;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u15,d),m=texture2D(u16,c),a=texture2D(u23,d);a=floor(.5+a*255.);vec4 n=texture2D(u20,c),o=texture2D(u21,c),p=texture2D(u22,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:"u15 u16 u18 u19 u23 u20 u21 u22".split(" "),j:{u16:0,u15:1,u23:3,u20:4,u21:5,u22:6},B:!0},s25:{g:"uniform sampler2D u15,u16,u3;uniform float u18,u24,u25,u19;uniform vec2 u26;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u24*vv0),d=u24*vv0-c;float g=u18/u24;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u24;float m=u24*u19/u18;vec2 b=m*h;b=floor(u26*b+.5*(u19-1.)*(f-u26));vec2 a=(b+i*u25)/u19;a+=.25/u19;vec2 k=step(a,f)*step(l,a);vec4 n=texture2D(u15,j),o=texture2D(u16,a),p=n*o,q=texture2D(u3,j);gl_FragColor=(p*u25*u25+q)*k.x*k.y;}",
i:"u15 u16 u18 u24 u25 u19 u3 u26".split(" "),j:{u16:0,u15:1,u3:2}},s26:{g:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",i:["u15","u16"],j:{u16:0,u15:1},B:!0},s27:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:h,j:B},s28:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:h,j:B,B:!0},s29:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:h,j:B,B:!0},s30:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:r,j:G,precision:"lowp"},s31:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u27"],j:G,precision:"lowp"},s32:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u27"],j:G,precision:"lowp"},s33:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u28"],j:C,B:!0},s34:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u28"],j:C,B:!0},s35:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u10*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*h),d=texture2D(u5,a+u10*i),j=texture2D(u5,a+u10),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u10"],j:E},s36:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*k),d=texture2D(u5,a+u10*l),g=texture2D(u5,a+u10),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u10*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u10*m),d=f(a+u10*2.),g=f(a+u10*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u10"],
j:E,B:!0},s37:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],j:G,precision:"lowp",B:!0},s38:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u10)+2002./e*texture2D(u1,vv0-2.*u10)+3003./e*texture2D(u1,vv0-u10)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u10)+2002./e*texture2D(u1,vv0+2.*u10)+1001./e*texture2D(u1,vv0+3.*u10);gl_FragColor=a;}",i:["u10","u1"],
j:G,precision:"lowp",B:!0},s39:{g:"uniform sampler2D u1,u12,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u12,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u12","u29"],j:{u1:0,u12:1,u29:2},B:!0}},x={s40:{g:"uniform float u18,u30;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u18","u15","u16","u3","u30"],Ob:["1.1111","gl_FragColor\\*=2.2222;"]},s41:{g:"uniform float u18,u30,u19;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u19,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u19;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u19,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u18 u19 u15 u16 u3 u30".split(" "),Ob:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},J=null,M=null,z={Bb:function(){return A},o:function(){if(!A){J=Cb.Zb(v,2);M=Cb.Zb(x,2);y="highp";b.getShaderPrecisionFormat&&(b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT),b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT));for(var u in J)e(b,J[u],u);H.set("s0");b.enableVertexAttribArray(0);A=!0}},fd:function(u){u.forEach(function(q){z.ed(q)})},ed:function(u){J[u.id]=u;e(b,u,u.id)},Jf:function(u,
q,l){q||(q=u);J[q]=Object.create(M[u]);J[q].Nf=!0;M[u].Ob&&M[u].Ob.forEach(function(K,N){J[q].g=J[q].g.replace(new RegExp(K,"g"),l[N])});e(b,J[q],q)},set:function(u){var q=J[u];q.B&&(q.B=!1,e(b,q,u));g(q)},ab:function(u){return k(u,n(),"s42")},Nc:function(u){return k(u,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:y},"s43")},kf:function(u){return"undefined"===typeof J[u]?!1:J[u].ua},L:function(){-1!==m&&(m=-1,t.Na.forEach(function(u){0!==u&&b.disableVertexAttribArray(u)}))},Oc:function(){var u=
0;t.Na.forEach(function(q,l){l=t.Ma[l];b.vertexAttribPointer(q,l,b.FLOAT,!1,t.Yc,u);u+=4*l})},sd:function(){b.enableVertexAttribArray(0)},Ha:function(){z.Pb(b)},Pb:function(u){u.vertexAttribPointer(t.Na[0],2,u.FLOAT,!1,8,0)},ni:function(u,q){b.uniform1i(t.A[u],q)},F:function(u,q){b.uniform1f(t.A[u],q)},ca:function(u,q,l){b.uniform2f(t.A[u],q,l)},og:function(u,q){b.uniform2fv(t.A[u],q)},qg:function(u,q){b.uniform3fv(t.A[u],q)},pg:function(u,q,l,K){b.uniform3f(t.A[u],q,l,K)},rg:function(u,q,l,K,N){b.uniform4f(t.A[u],
q,l,K,N)},qe:function(u,q){b.uniform4fv(t.A[u],q)},re:function(u,q){b.uniformMatrix2fv(t.A[u],!1,q)},oi:function(u,q){b.uniformMatrix3fv(t.A[u],!1,q)},pi:function(u,q){b.uniformMatrix4fv(t.A[u],!1,q)},S:function(u,q){z.set(u);q.forEach(function(l){switch(l.type){case "4f":b.uniform4fv(t.A[l.name],l.value);break;case "3f":b.uniform3fv(t.A[l.name],l.value);break;case "2f":b.uniform2fv(t.A[l.name],l.value);break;case "1f":b.uniform1f(t.A[l.name],l.value);break;case "1i":b.uniform1i(t.A[l.name],l.value);
break;case "mat2":b.uniformMatrix2fv(t.A[l.name],!1,l.value);break;case "mat3":b.uniformMatrix3fv(t.A[l.name],!1,l.value);break;case "mat4":b.uniformMatrix4fv(t.A[l.name],!1,l.value)}})},Dh:function(){return"lowp"},m:function(){z.L();b.disableVertexAttribArray(0);for(var u in J){var q=J[u];q.ua&&(q.ua=!1,b.deleteProgram(q.wa));q.Nf&&delete J[u]}p.forEach(function(l){b.deleteShader(l)});p.splice(0);w=0;A=!1;t=null;m=-1}};return z}(),b=null,Ga=function(){function a(r){console.log("ERROR in ContextFF: ",
r);return!1}function c(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(r){function I(){Ia.m();Z.reset();f.getExtension("WEBGL_lose_context").loseContext()}if(c())return!1;var G=document.createElement("canvas");G.setAttribute("width",5);G.setAttribute("height",5);var f=null;try{f=G.getContext("webgl2",r)}catch(C){return!1}if(!f)return!1;e(f);Z.td(f);r=Z.$b(f);if(!r.ia&&!r.la)return I(),!1;r=Ia.jd(f,r);I();return r?!0:!1}function e(r){r.clearColor(0,0,0,0);r.disable(r.DEPTH_TEST);
r.disable(r.BLEND);r.disable(r.DITHER);r.disable(r.STENCIL_TEST);r.disable(r.CULL_FACE);r.GENERATE_MIPMAP_HINT&&r.hint(r.GENERATE_MIPMAP_HINT,r.FASTEST);r.disable(r.SAMPLE_ALPHA_TO_COVERAGE);r.disable(r.SAMPLE_COVERAGE);r.depthFunc(r.LEQUAL);r.clearDepth(1)}var g=null,k=null,n=null,p=null,m=!0,t=null,w=null,A=[],y={D:function(){return g.width},Y:function(){return g.height},uh:function(){return g},sh:function(){return b},ma:function(){return m},flush:function(){b.flush()},Id:function(){Aa.fa();y.gg()},
gg:function(){aa.reset();U.reset();H.L();H.sd();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);U.Aa();H.Ha()},uf:function(){t||(t=new Uint8Array(g.width*g.height*4));b.readPixels(0,0,g.width,g.height,b.RGBA,b.UNSIGNED_BYTE,t);return t},vh:function(){return g.toDataURL("image/jpeg")},wh:function(){Aa.N();k||(k=document.createElement("canvas"),n=k.getContext("2d"));k.width=g.width;k.height=g.height;for(var r=y.uf(),I=n.createImageData(k.width,k.height),G=k.width,f=k.height,C=I.data,B=0;B<f;++B)for(var h=
f-B-1,E=0;E<G;++E){var v=4*(B*G+E),x=4*(h*G+E);C[v]=r[x];C[v+1]=r[x+1];C[v+2]=r[x+2];C[v+3]=r[x+3]}n.putImageData(I,0,0);return k.toDataURL("image/png")},tf:function(r){!k&&r&&(k=document.createElement("canvas"),n=k.getContext("2d"));var I=r?k:document.createElement("canvas");I.width=g.width;I.height=g.height;(r?n:I.getContext("2d")).drawImage(g,0,0);return I},o:function(r){r=Object.assign({ka:null,Cc:null,mb:null,pd:null,width:512,height:512,premultipliedAlpha:!1,Md:!0,antialias:!1,debug:!1,Wg:!1},
r);r.ka?(b=r.ka,g=r.ka.canvas):r.pd&&!r.mb?g=document.getElementById(r.pd):r.mb&&(g=r.mb);g||(g=document.createElement("canvas"));g.width=r.width;g.height=r.height;if(b)m=b instanceof WebGL2RenderingContext;else{m=!0;var I={antialias:r.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:r.premultipliedAlpha,stencil:!1,depth:r.Md,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(I.antialias=
!1);var G=d(I);G||!I.antialias||c()||(I.antialias=!1,G=d(I));G&&(b=g.getContext("webgl2",I));b?m=!0:((b=g.getContext("webgl",I))||(b=g.getContext("experimental-webgl",I)),m=!1)}if(!b)return a("WebGL1 and 2 are not enabled");r.Cc&&g.addEventListener&&(p=b.getExtension("WEBGL_lose_context"))&&(w=r.Cc,g.addEventListener("webglcontextlost",w,!1));if(!Z.o())return a("Not enough GL capabilities");e(b);H.o();U.o();Ia.jd(b,Z.sf());A.forEach(function(f){f(b)});A.splice(0);return!0},Lg:function(){return new Promise(function(r){b?
r(b):A.push(r)})},m:function(){b&&(Z.m(),H.m(),Ia.m());p&&w&&(g.removeEventListener("webglcontextlost",w,!1),p=w=null);b=t=n=k=g=null;A.splice(0)}};return y}(),Ba=function(){function a(){null===c&&("undefined"!==typeof H?c=H:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;return{reset:function(){c=null},ng:function(d){c!==d&&(c&&c.L(),c=d)},Bb:function(){return c.Bb()},Ha:function(){return c.Ha()},Pb:function(d){return c.Pb(d)},Oc:function(){return c.Oc()},L:function(){return c.L()},set:function(d){a();
return c.set(d)},ab:function(d){a();return c.ab(d)},Nc:function(d){a();return c.Nc(d)}}}(),Fa=function(){function a(l){b.bindTexture(b.TEXTURE_2D,l)}function c(l){M[0]=l;l=z[0];var K=l>>16&32768,N=l>>12&2047,O=l>>23&255;return 103>O?K:142<O?K|31744|((255==O?0:1)&&l&8388607):113>O?(N|=2048,K|(N>>114-O)+(N>>113-O&1)):K=(K|O-112<<10|N>>1)+(N&1)}function d(l){var K=new Uint16Array(l.length);l.forEach(function(N,O){K[O]=c(N)});return K}function e(){if(null!==u.kc)return u.kc;var l=k(d([.5,.5,.5,.5]),!0);
return null===l?!0:u.kc=l}function g(){if(null!==u.lc)return u.lc;var l=k(new Uint8Array([127,127,127,127]),!1);return null===l?!0:u.lc=l}function k(l,K){if(!Ba.Bb()||!G)return null;var N=null,O=Math.sqrt(l.length/4);try{var Y=b.getError();if("FUCKING_BIG_ERROR"===Y)return!1;N=q.instance({isFloat:!1,O:K,array:l,width:O});Y=b.getError();if(Y!==b.NO_ERROR)return!1}catch(sa){return!1}qa.N();b.viewport(0,0,O,O);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);Ba.set("s0");N.lb(0);ra.l(!0,!0);l=4*O*O;
K=new Uint8Array(l);b.readPixels(0,0,O,O,b.RGBA,b.UNSIGNED_BYTE,K);O=!0;for(Y=0;Y<l;++Y)O=O&&3>Math.abs(K[Y]-127);N.remove();qa.fa();return O}var n=0,p=null,m=0,t=null,w=null,A=null,y=null,r=null,I=null,G=!1,f=[],C={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,J:null,jc:null,Mf:!1,O:!1,ra:null,Gb:4,vc:0},B=!1,h=null,E=null,v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,
1]],x=!1,J=!1,M=new Float32Array(1),z=new Int32Array(M.buffer),u={kc:null,lc:null},q={o:function(){G||(r=[b.RGBA,null,b.RGBA,b.RGBA],I=[b.RGBA,null,b.RGBA,b.RGBA],p=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],x="undefined"!==typeof JEContext,J="undefined"!==typeof Z,x&&JEContext.Xh()&&p.push(b.TEXTURE8,b.TEXTURE9),t=[-1,-1,-1,-1,-1,-1,-1,-1],y=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],G=!0)},If:function(){if(!w){for(var l=new Float32Array(16384),K=0;16384>K;++K)l[K]=
2*Math.random()-1;w={random:q.instance({isFloat:!0,isPot:!0,array:l,width:64}),ze:q.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}q.Eg()},Mh:function(){return w.ze},Eg:function(){y[1]=Z.fc(b)},lg:function(){I=r=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},ie:function(l){H.set("s1");qa.N();var K=l.D(),N=l.Y();b.viewport(0,0,K,N);l.h(0);ra.l(!1,!1)},ei:function(l,K){q.ie(l);b.readPixels(0,0,l.D(),l.Y(),b.RGBA,b.UNSIGNED_BYTE,K)},fi:function(l,K){q.ie(l);return Z.Nb(0,0,l.D(),l.Y(),K)},
Ad:function(l,K,N,O,Y,sa,wa){l.activeTexture(l.TEXTURE0);var Ja=l.createTexture();l.bindTexture(l.TEXTURE_2D,Ja);Y=Y instanceof Float32Array?Y:new Float32Array(Y);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,sa);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,N,O,0,l.RGBA,l.FLOAT,
Y);l.bindTexture(l.TEXTURE_2D,null);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1);wa&&(qa.fa(),H.ab(l));l.viewport(0,0,N,O);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,K,0);l.bindTexture(l.TEXTURE_2D,Ja);wa?ra.l(!0,!0):U.sb(l);l.deleteTexture(Ja);G&&(t[0]=-1,A=null,n=0)},Vb:function(l){l!==n&&(b.activeTexture(p[l]),n=l)},instance:function(l){var K;function N(){R=void 0!==F.J.videoWidth?F.J.videoWidth:F.J.width;S=void 0!==F.J.videoHeight?F.J.videoHeight:F.J.height}function O(L){var Q=
b.getError();if("FUCKING_BIG_ERROR"===Q)return!1;b.texImage2D(b.TEXTURE_2D,0,ma,ia,ka,L);Q=b.getError();Q!==b.NO_ERROR&&ia!==b.RGBA&&(ia=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,ma,ia,ka,L));return!0}function Y(){if(!Qb){a(xa);Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,Ea);F.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,F.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,F.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));F.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&b.texParameterf(b.TEXTURE_2D,JEContext.yh().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Hg);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,F.isLinear?b.LINEAR:b.NEAREST);F.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,F.isMipmap&&!Sa?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,F.isMipmap&&!Sa?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);
ia=r[F.Gb-1];ma=I[F.Gb-1];ka=y[Db];if(Z.ma()){var L=Z.vf();ia===b.RGBA&&ka===b.FLOAT?F.isMipmap||F.isLinear?ma=Ia.xf(b):Z.kd()?L&&(ma=L):ma=b.RGBA16F||b.RGBA:ia===b.RGB&&ka===b.FLOAT&&L&&(ma=L,ia=b.RGBA)}if(F.O&&!F.isFloat||F.isFloat&&F.isMipmap&&Ia.Rf())ma=Z.wf(),ka=Z.fc(b);F.vc&&(lb=F.vc);F.isSrgb&&4===F.Gb&&(ia=JEContext.Kh());if(F.J)O(F.J);else if(F.url)O(Na);else if(ya){L=ya;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,ma,R,S,0,ia,ka,L),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,
0,ma,R,S,0,ia,ka,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,R,S,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(Ec){b.texImage2D(b.TEXTURE_2D,0,ma,R,S,0,ia,ka,null)}F.isKeepArray||(ya=null)}else L=b.getError(),"FUCKING_BIG_ERROR"!==L&&(b.texImage2D(b.TEXTURE_2D,0,ma,R,S,0,ia,ka,null),L=b.getError(),L!==b.NO_ERROR&&(ia=b.RGBA,F.O&&ka!==b.FLOAT&&(ka=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,ma,R,S,0,ia,ka,null))));if(F.isMipmap)if(!Sa&&ca)ca.ec(),mb=!0;else if(Sa){L=Math.log2(Math.min(R,S));
Xa=Array(1+L);Xa[0]=xa;for(var Q=1;Q<=L;++Q){var oa=Math.pow(2,Q),W=R/oa;oa=S/oa;var Ta=b.createTexture();a(Ta);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,ma,W,oa,0,ia,ka,null);a(null);Xa[Q]=Ta}mb=!0}a(null);t[n]=-1;Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);ab=!0;F.ra&&ca&&(F.ra(ca),F.ra=null)}}function sa(){for(var L=R*S,Q=2*L,oa=3*L,W=0;W<L;++W)Ca[0][W]=bb[W],Ca[1][W]=bb[W+L],Ca[2][W]=bb[W+
Q],Ca[3][W]=bb[W+oa]}function wa(){var L=R*S*4;Ka=[new Uint8Array(L),new Uint8Array(L),new Uint8Array(L),new Uint8Array(L)];Ca=[new Float32Array(Ka[0].buffer),new Float32Array(Ka[1].buffer),new Float32Array(Ka[2].buffer),new Float32Array(Ka[3].buffer)];nb=new Uint8Array(4*L);bb=new Float32Array(nb.buffer);cb=!0}function Ja(){K=new Uint8Array(R*S*4);Rb=new Float32Array(K.buffer);Eb=!0}var F=Object.assign({},C,l),db=m++;null===F.isFlipY&&(F.isFlipY=F.url?!0:!1);F.data&&(F.array="string"===typeof F.data?
Yb(F.data):F.isFloat?new Float32Array(F.data):new Uint8Array(F.data),F.isFlipY=!1);var Db=0,Sb=F.J?!0:!1,eb=null,Fb=null,Tb=!1;F.O=F.O||F.isFloat;F.O&&(Db=1);!F.Mf&&F.isFloat&&J&&!Z.kd()&&(F.isFloat=!1);F.isFloat&&(Db=2);F.isAnisotropicFiltering&&x&&!JEContext.Qh()&&(F.isAnisotropicFiltering=!1);var xa=F.jc||b.createTexture(),Na=null,ya=!1,R=0,S=0,ab=!1,Qb=!1,cb=!1,Ca=null,Ka=null,nb=null,bb=null,ma=null,ia=null,ka=null,Ea=F.isFlipY,tc=(l=F.O&&F.isMipmap)&&Ia.Me(),Sa=l&&tc?!0:!1,Xa=null,lb=-1,mb=
!1;var Eb=!1;var Rb=K=null;F.width&&(R=F.width,S=F.height?F.height:R);var ca={get:function(){return xa},D:function(){return R},Y:function(){return S},Nh:function(){return F.url},Rh:function(){return F.isFloat},Th:function(){return F.O},Uh:function(){return F.isLinear},ec:function(){b.generateMipmap(b.TEXTURE_2D)},Ke:function(L,Q){Sa?(L||(L=ca.Ed()),q.Vb(Q),a(Xa[L]),t[Q]=-1):ca.h(Q)},Ed:function(){-1===lb&&(lb=Math.log(R)/Math.log(2));return lb},pf:function(L){if(Sa){L||(L=ca.Ed());H.set("s12");q.Vb(0);
for(var Q=R,oa=S,W=1;W<=L;++W)Q/=2,oa/=2,H.ca("u10",.25/Q,.25/oa),b.viewport(0,0,Q,oa),a(Xa[W-1]),b.framebufferTexture2D(qa.vb(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Xa[W],0),ra.l(!1,1===W);t[0]=-1}else ca.ec()},mi:function(L){(Sb=!rc.zg(L))?(ya=null,F.J=L,N()):ya=L},h:function(L){if(!ab)return!1;q.Vb(L);if(t[L]===db)return!1;a(xa);t[L]=db;return!0},lb:function(L){b.activeTexture(p[L]);n=L;a(xa);t[L]=db},v:function(){A=ca;b.framebufferTexture2D(qa.vb(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,xa,0)},ba:function(){A=
ca;b.viewport(0,0,R,S);b.framebufferTexture2D(qa.vb(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,xa,0)},Wc:q.Wc,pe:function(L,Q){R=L;S=Q},resize:function(L,Q){ca.pe(L,Q);Y()},clone:function(L){L=q.instance({width:R,height:S,O:F.O,isFloat:F.isFloat,isLinear:F.isLinear,isMirrorY:F.isMirrorY,isFlipY:L?!Ea:Ea,isPot:F.isPot});Ba.set("s0");qa.fa();L.v();b.viewport(0,0,R,S);ca.h(0);ra.l(!0,!0);return L},sg:function(){b.viewport(0,0,R,S)},remove:function(){b.deleteTexture(xa);Qb=!0;f.splice(f.indexOf(ca),1);ca=null},
refresh:function(){ca.lb(0);Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Sb?b.texImage2D(b.TEXTURE_2D,0,ma,ia,ka,F.J):b.texImage2D(b.TEXTURE_2D,0,ma,R,S,0,ia,ka,ya);Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},ge:function(){cb||wa();b.readPixels(0,0,R,4*S,b.RGBA,b.UNSIGNED_BYTE,nb);sa();return Ca},dg:function(){cb||wa();return Z.Nb(0,0,R,4*S,nb).then(function(){sa();return Ca})},fg:function(){Eb||Ja();b.readPixels(0,0,R,S,b.RGBA,b.UNSIGNED_BYTE,K);return Rb},eg:function(){Eb||Ja();return Z.Nb(0,0,
R,S,K)},qd:function(L){qa.N();H.set("s13");ca.h(0);if(L)b.viewport(0,0,R,S),H.rg("u11",.25,.25,.25,.25),ra.l(!1,!0);else for(L=0;4>L;++L)b.viewport(0,S*L,R,S),H.qe("u11",v[L]),ra.l(!1,0===L)},Ja:function(L){var Q=ka===y[0]&&!g();a(xa);Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Q?(Tb||(eb=document.createElement("canvas"),eb.width=R,eb.height=S,Fb=eb.getContext("2d"),Fb.createImageData(R,S),Tb=!0),null.data.set(L),Fb.putImageData(null,0,0),b.texImage2D(b.TEXTURE_2D,0,ma,ia,ka,eb)):b.texImage2D(b.TEXTURE_2D,
0,ma,R,S,0,ia,ka,L);t[n]=db;Ea&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},xi:function(L,Q){a(xa);Q&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,ma,ia,ka,L);t[n]=db;Q&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},li:function(L,Q){var oa=R*S,W=4*oa;L=F.O?L?"RGBE":"JSON":"RGBA";Q&&(L=Q);Q=Z.ma()&&!1;var Ta=null;switch(L){case "RGBE":Ta="s44";break;case "JSON":Ta=Q?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Ta="s7"}cb||("RGBA"===L||"RGBE"===L||"RGBAARRAY"===L?(Ka=new Uint8Array(W),
cb=!0):"JSON"!==L||Q||wa());qa.N();H.set(Ta);ca.h(0);W=null;if("RGBA"===L||"RGBE"===L||"RGBAARRAY"===L){b.viewport(0,0,R,S);ra.l(!0,!0);b.readPixels(0,0,R,S,b.RGBA,b.UNSIGNED_BYTE,Ka);if("RGBAARRAY"===L)return{data:Ka};B||(h=document.createElement("canvas"),E=h.getContext("2d"),B=!0);h.width=R;h.height=S;oa=E.createImageData(R,S);oa.data.set(Ka);E.putImageData(oa,0,0);W=h.toDataURL("image/png")}else if("JSON"===L)if(Q)W=new Float32Array(oa),b.viewport(0,0,R,S),ra.l(!0,!0),b.readPixels(0,0,R,S,b.RGBA,
b.FLOAT,W);else{for(W=0;4>W;++W)b.viewport(0,S*W,R,S),H.qe("u11",v[W]),ra.l(!W,!W);ca.ge();W=Array(oa);for(Q=0;Q<oa;++Q)W[4*Q]=Ca[0][Q],W[4*Q+1]=Ca[1][Q],W[4*Q+2]=Ca[2][Q],W[4*Q+3]=Ca[3][Q]}return{format:L,data:W,width:R,height:S,isMirrorY:F.isMirrorY,isFlipY:"RGBA"===L?F.isFlipY:!F.isFlipY}}};F.isMipmap&&!Sa&&ab&&!mb&&(ca.ec(),mb=!0);if(F.url)a(xa),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Na=new Image,Na.Vg="Anonymous",Na.crossOrigin="Anonymous",Na.src=F.url,Na.onload=
function(){R=Na.width;S=Na.height;Y()};else if(F.J){var Ub=function(){N();R?Y():setTimeout(Ub,1)};Ub()}else F.array?(F.O&&!F.isFloat?F.array instanceof Uint16Array?(ya=F.array,Y()):e()?(ya=d(F.array),Y()):(Y(),q.Ad(b,xa,ca.D(),ca.Y(),F.array,Ea,!0)):(ya=F.isFloat?F.array instanceof Float32Array?F.array:new Float32Array(F.array):F.array instanceof Uint8Array?F.array:new Uint8Array(F.array),Y()),F.isKeepArray||(ya&&ya!==F.array&&(ya=null),delete F.array)):F.jc?ab=!0:Y();ca.Ih=ca.D;F.ra&&ab&&(F.ra(ca),
F.ra=null);f.push(ca);return ca},N:function(l){l!==n&&(b.activeTexture(p[l]),n=l);t[l]=-1;a(null)},Kg:function(l){w.random.h(l)},Wc:function(){A=null;b.framebufferTexture2D(qa.vb(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==n&&b.activeTexture(p[0]);for(var l=0;l<p.length;++l)t[l]=-1;n=-1},ii:function(){n=-1},Bg:function(){for(var l=0;l<p.length;++l)q.N(l)},Bd:function(){w&&(w.random.remove(),w.ze.remove())},wi:function(l,K){if("RGBA"===l.format||"RGBE"===l.format){var N=new Image;
N.src=l.data;N.onload=function(){q.instance({isMirrorY:l.isMirrorY,isFlipY:l.isFlipY,isFloat:!1,J:N,ra:function(O){if("RGBA"===l.format)K(O);else{var Y=l.width,sa=l.height,wa=q.instance({isMirrorY:l.isMirrorY,isFloat:!0,width:Y,height:sa,isFlipY:l.isFlipY});qa.fa();b.viewport(0,0,Y,sa);H.set("s45");wa.v();O.h(0);ra.l(!0,!0);q.N(0);K(wa);Z.flush();setTimeout(O.remove,50)}}})}}else"JSON"===l.format?K(q.instance({isFloat:!0,isFlipY:l.isFlipY,width:l.width,height:l.height,array:new Float32Array(l.data)})):
K(!1)},Se:d,m:function(){A&&(Aa.fa(),q.Wc(),Aa.N());q.Bg();f.slice(0).forEach(function(l){l.remove()});f.splice(0);G=!1;m=0;"undefined"!==typeof Ia&&Ia.m();w=null}};return q}(),gc=function(){return{instance:function(a){var c=[Fa.instance(a),Fa.instance(a)],d=[c[1],c[0]],e=d,g={ig:function(k){e[1].v();e[0].h(k);g.ue()},jg:function(k){e[1].ba();e[0].h(k);g.ue()},ue:function(){e=e===c?d:c},refresh:function(){e[0].refresh();e[1].refresh()},h:function(k){e[0].h(k)},lb:function(k){e[0].lb(k)},Jg:function(k){e[1].h(k)},
Ch:function(){return e[0]},Gh:function(){return e[1]},Ja:function(k){e[0].Ja(k);e[1].Ja(k)},remove:function(){e[0].remove();e[1].remove();e=null},sync:function(){g.jg(0);H.set("s0");U.l(!1,!1)}};return g}}}(),ra=function(){function a(m){var t={ea:null,indices:null};t.ea=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,t.ea);m.bufferData(m.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),m.STATIC_DRAW);t.indices=m.createBuffer();m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,t.indices);m.bufferData(m.ELEMENT_ARRAY_BUFFER,
new Uint16Array([0,1,2]),m.STATIC_DRAW);return t}var c=null,d=0,e=!1,g=[],k=-2,n=-2,p={reset:function(){n=k=-2},o:function(){e||(c=a(b),p.Aa(),e=!0)},instance:function(m){var t=d++,w=m.indices?m.indices.length:0,A="undefined"===typeof m.mode?b.STATIC_DRAW:m.mode,y=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,y);b.bufferData(b.ARRAY_BUFFER,m.ea instanceof Float32Array?m.ea:new Float32Array(m.ea),A);k=t;var r=null,I=null,G=null;if(m.indices){r=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,r);
var f=null;65536>m.indices.length?(f=Uint16Array,I=b.UNSIGNED_SHORT,G=2):(f=Uint32Array,I=b.UNSIGNED_INT,G=4);f=m.indices instanceof f?m.indices:new f(m.indices);b.bufferData(b.ELEMENT_ARRAY_BUFFER,f,A);n=t}var C={Le:function(B){k!==t&&(b.bindBuffer(b.ARRAY_BUFFER,y),k=t);B&&Ba.Oc()},Ie:function(){n!==t&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,r),n=t)},bind:function(B){C.Le(B);C.Ie()},Zg:function(){b.drawElements(b.TRIANGLES,w,I,0)},$g:function(B,h){b.drawElements(b.TRIANGLES,B,I,h*G)},remove:function(){b.deleteBuffer(y);
m.indices&&b.deleteBuffer(r);C=null}};g.push(C);return C},Aa:function(){-1!==k&&(b.bindBuffer(b.ARRAY_BUFFER,c.ea),k=-1);-1!==n&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.indices),n=-1)},l:function(m,t){m&&ra.Aa();t&&Ba.Ha();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},sb:function(m){m=m||b;var t=a(m);m.bindBuffer(m.ARRAY_BUFFER,t.ea);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,t.indices);Ba.Pb(m);m.clear(m.COLOR_BUFFER_BIT);m.drawElements(m.TRIANGLES,3,m.UNSIGNED_SHORT,0);m.flush();m.bindBuffer(m.ARRAY_BUFFER,
null);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null);m.deleteBuffer(t.ea);m.deleteBuffer(t.indices);p.reset();e&&(p.Aa(),Ba.Ha())},Bd:function(){var m=b,t=c;m.deleteBuffer(t.ea);m.deleteBuffer(t.indices)},m:function(){p.Bd();g.forEach(function(m){m.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);p.reset();e=!1;g.splice(0);d=0}};return p}(),qa=function(){var a=null,c=null,d=null,e=!1,g=[],k={K:-2,zd:1},n={Bb:function(){return e},o:function(){if(!e){a=b.createFramebuffer();
var p=Z.ma();c=p&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;d=p&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},zh:function(){return c},yf:function(){return d},vb:function(){return b.FRAMEBUFFER},Hh:function(){return k},rh:function(){return a},instance:function(p){void 0===p.Ld&&(p.Ld=!1);var m=p.I?p.I:null,t=p.width,w=void 0!==p.height?p.height:p.width,A=a,y=null,r=!1,I=!1,G=0;m&&(t=t?t:m.D(),w=w?w:m.Y());var f={oe:function(){r||(A=b.createFramebuffer(),r=!0,G=k.zd++)},De:function(){f.oe();
f.v();y=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,y);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,t,w);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,y);b.clearDepth(1)},bind:function(C,B){G!==k.K&&(b.bindFramebuffer(c,A),k.K=G);m&&m.v();B&&b.viewport(0,0,t,w);C&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Ig:function(){G!==k.K&&(b.bindFramebuffer(c,A),k.K=G)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Rg:function(){b.clear(b.COLOR_BUFFER_BIT)},
Sg:function(){b.clear(b.DEPTH_BUFFER_BIT)},sg:function(){b.viewport(0,0,t,w)},v:function(){G!==k.K&&(b.bindFramebuffer(c,A),k.K=G)},rtt:function(C){m=C;k.K!==G&&(b.bindFramebuffer(b.FRAMEBUFFER,A),k.K=G);C.v()},N:function(){b.bindFramebuffer(c,null);k.K=-1},resize:function(C,B){t=C;w=B;y&&(b.bindRenderbuffer(b.RENDERBUFFER,y),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,t,w))},remove:function(){A===a||I||(b.bindFramebuffer(c,A),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,
null,0),y&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(A),y&&b.deleteRenderbuffer(y));I=!0}};p.Ld&&f.De();g.push(f);return f},N:function(){b.bindFramebuffer(c,null);k.K=-1},Cg:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);Z.se();k.K=-1},reset:function(){k.K=-2},fa:function(){0!==k.K&&(b.bindFramebuffer(c,a),k.K=0)},clear:function(){Z.se();b.clear(b.COLOR_BUFFER_BIT)},m:function(){n.N();g.forEach(function(p){p.remove()});
null!==a&&(b.deleteFramebuffer(a),a=null);n.reset();e=!1;g.splice(0);k.zd=1}};return n}(),Z=function(){function a(){p="undefined"===typeof Ga?JEContext:Ga;m=!0}function c(h,E){for(var v=0;v<h.length;++v){var x=E.getExtension(h[v]);if(x)return x}return null}function d(){null!==f.Sb&&(clearTimeout(f.Sb),f.Sb=null);f.Da=!1}function e(h){if(0===f.ta.length){f.Z=b.PIXEL_PACK_BUFFER;f.ta.splice(0);f.wb.splice(0);for(var E=0;E<f.Ra;++E)f.ta.push(b.createBuffer()),f.wb.push(-1);f.ha=0;f.zc=0}b.bindBuffer(f.Z,
f.ta[f.ha]);h.byteLength!==f.wb[f.ha]&&(b.bufferData(f.Z,h.byteLength,b.STREAM_READ),f.wb[f.ha]=h.byteLength);f.Oh=!0}function g(){b.bindBuffer(f.Z,null)}function k(){f.Ba.forEach(function(h){b.deleteSync(h)});f.Ba.splice(0)}function n(){f.ha=(f.ha+1)%f.Ra;++f.zc}var p=null,m=!1,t={Pd:!1,Sc:null,Tc:null,Sd:!1,Qf:!1,Uc:null,Td:!1,Vc:null,Qd:!1,Xb:null,Kf:!1,Yb:null,Lf:!1},w=null,A={ia:!0,la:!0,cc:!0,fe:!1},y=null,r=!0,I=null,G=null,f={Te:1,Ra:-1,ha:0,zc:0,Da:!1,ta:[],Ba:[],wb:[],Z:null,Sb:null},C=
"undefined"===typeof window?{}:window,B={o:function(){if(m)return!0;B.reset();m||a();var h=b;if(!w.Pd){w.Sc=B.wd(h);C.GL_EXT_FLOAT=w.Sc;w.Sd=w.Sc?!0:!1;if(w.Sd||B.ma())w.Tc=B.xd(h),w.Qf=w.Tc?!0:!1,C.GL_EXT_FLOATLINEAR=w.Tc;w.Pd=!0}if(!w.Qd){w.Uc=B.qb(h);w.Uc&&(w.Td=!0,C.GL_EXT_HALFFLOAT=w.Uc);if(w.Td||B.ma())w.Vc=B.yd(h),C.GL_EXT_HALFFLOATLINEAR=w.Vc;w.Ph=w.Vc?!0:!1;w.Qd=!0}w.Xb=B.ud(h);w.Kf=w.Xb?!0:!1;C.GL_EXT_COLORBUFFERFLOAT=w.Xb;w.Yb=B.vd(h);w.Lf=w.Yb?!0:!1;C.GL_EXT_COLORBUFFERHALFFLOAT=w.Yb;
qa.o();Fa.o();if(!B.Ye())return!1;ra.o();Fa.If();return!0},reset:function(){w=Object.assign({},t);y=Object.assign({},A)},D:function(){m||a();return p.D()},Y:function(){m||a();return p.Y()},ma:function(){m||a();return p.ma()},td:function(h){B.ud(h);B.vd(h);B.wd(h);B.xd(h);B.qb(h);B.yd(h)},ud:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),vd:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),wd:c.bind(null,
["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),xd:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),qb:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),yd:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),fc:function(h){var E=B.qb(h);return E&&E.HALF_FLOAT_OES?E.HALF_FLOAT_OES:h.HALF_FLOAT||h.FLOAT},
vf:function(){return G||b.RGBA32F||b.RGBA},wf:function(){return I||b.RGBA16F||b.RGBA},sf:function(){return y},kd:function(){return y.ia},Ng:function(){return y.la},Mg:function(){return y.cc},Ne:function(){return y.fe&&r},xe:function(h){r=h;!h&&f.Da&&(k(),b.bindBuffer(f.Z,null),f.Da=!1)},Vh:function(){return f.Da},Qb:function(h,E,v){function x(){h.bindTexture(h.TEXTURE_2D,null);h.bindFramebuffer(J,null);h.deleteTexture(u);h.deleteFramebuffer(z)}var J=h.FRAMEBUFFER,M=h.NEAREST,z=h.createFramebuffer();
h.bindFramebuffer(J,z);var u=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,u);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,M);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,M);h.texImage2D(h.TEXTURE_2D,0,E,3,3,0,h.RGBA,v,null);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,u,0);
if(h.checkFramebufferStatus(h.READ_FRAMEBUFFER||h.FRAMEBUFFER)!==h.FRAMEBUFFER_COMPLETE)return x(),!1;Ba.Nc(h);h.clearColor(0,0,0,0);h.viewport(0,0,3,3);h.disable(h.DEPTH_TEST);h.clear(h.COLOR_BUFFER_BIT);ra.sb(h);h.bindFramebuffer(J,null);Ba.ab(h);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,u);ra.sb(h);E=new Uint8Array(36);h.readPixels(0,0,3,3,h.RGBA,h.UNSIGNED_BYTE,E);x();for(v=0;36>v;++v)if(3!==v%4&&3<Math.abs(E[v]-127))return!1;return!0},$b:function(h){var E={ia:!1,la:!1};h.disable(h.BLEND);
h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);h.RGBA32F&&B.Qb(h,h.RGBA32F,h.FLOAT)&&(E.ia=!0,G=h.RGBA32F);!E.ia&&B.Qb(h,h.RGBA,h.FLOAT)&&(E.ia=!0,G=h.RGBA);var v=B.fc(h);I=null;h.RGBA16F&&B.Qb(h,h.RGBA16F,v)&&(E.la=!0,I=h.RGBA16F);!E.la&&B.Qb(h,h.RGBA,v)&&(E.la=!0,I=h.RGBA);return E},Ze:function(){var h=qa.instance({width:2});h.oe();var E=Fa.instance({width:2,isFloat:!0,Gb:3});h.v();E.v();B.flush();b.checkFramebufferStatus(qa.yf())!==b.FRAMEBUFFER_COMPLETE?(Fa.lg(),y.cc=!1):y.cc=!0;h.remove();
E.remove()},$e:function(){var h=!1;B.ma()&&(h="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(E){return"undefined"!==typeof b[E]}));y.fe=h},Ye:function(){var h=B.$b(b);Object.assign(y,h);if(!y.ia&&!y.la)return!1;B.Ze();B.$e();return!0},he:function(h,E,v,x,J){b.readPixels(h,E,v,x,b.RGBA,b.UNSIGNED_BYTE,J);return Promise.resolve(J,!1)},Nb:function(h,E,v,x,J,M,z){if(!B.Ne())return B.he(h,E,v,x,J);f.Ra=z||f.Te;e(J);b.readPixels(h,
E,v,x,b.RGBA,b.UNSIGNED_BYTE,0);f.Ba[f.ha]=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);B.flush();var u=!1;return new Promise(function(q,l){function K(){if(!f.Da)return d(),g(),n(),l(),!1;var N=(f.ha+1)%f.Ra;switch(b.clientWaitSync(f.Ba[N],0,0)){case b.TIMEOUT_EXPIRED:case b.WAIT_FAILED:break;default:return d(),b.deleteSync(f.Ba[N]),f.Ba[N]=null,b.bindBuffer(f.Z,f.ta[N]),b.getBufferSubData(f.Z,0,J),g(),n(),q(J,u),!0}f.Sb=setTimeout(K,0);return!1}d();f.zc+1<f.Ra?(g(),n(),q(J,!1)):(f.Da=!0,K()||!M||
u||(u=!0,M()))})},se:function(){b.viewport(0,0,B.D(),B.Y())},flush:function(){b.flush()},m:function(){d();k();Fa.m();qa.m();ra.m();f.ta.forEach(function(h){b.deleteBuffer(h)});f.ta.splice(0);Ba.reset();m=!1}};return B}(),U=ra,Aa=qa,aa=Fa,Ia=function(){function a(v,x,J,M){f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,M?f.NEAREST_MIPMAP_NEAREST:f.LINEAR);var z=null;if(null!==J)try{z=f.getError();if("FUCKING_BIG_ERROR"===z)return!1;f.texImage2D(f.TEXTURE_2D,0,v,4,4,0,f.RGBA,x,J);z=f.getError();if(z!==
f.NO_ERROR)return!1}catch(u){return!1}M&&f.generateMipmap(f.TEXTURE_2D);f.clear(f.COLOR_BUFFER_BIT);U.sb(f);z=f.getError();if("FUCKING_BIG_ERROR"===z)return!1;f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,w);z=f.getError();z===f.INVALID_OPERATION&&"undefined"!==typeof f.PIXEL_PACK_BUFFER&&(f.bindBuffer(f.PIXEL_PACK_BUFFER,null),f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,w),z=f.getError());if(z!==f.NO_ERROR)return!1;J=!0;for(M=0;16>M;++M)J=J&&4>Math.abs(w[M]-127);J&&(m.ce=x,m.Kd=v);return J}function c(v,
x){return C.ia&&a(v,f.FLOAT,new Float32Array(A),x)?(p=n.cd,!0):!1}function d(v,x,J){if(!C.la)return!1;var M=Fa.Se(A),z=Z.qb(f);if(z&&z.HALF_FLOAT_OES&&a(v,z.HALF_FLOAT_OES,M,x)||f.HALF_FLOAT&&a(v,f.HALF_FLOAT,M,x))return p=n.La,!0;M=new Float32Array(A);if(a(v,f.FLOAT,M,x))return p=n.La,!0;f.bindTexture(f.TEXTURE_2D,J);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,2,2,0,f.RGBA,f.UNSIGNED_BYTE,null);f.bindFramebuffer(m.ob,E);Fa.Ad(f,J,2,2,M,!1,!1);f.bindFramebuffer(m.ob,null);f.bindTexture(f.TEXTURE_2D,J);return a(v,
null,null,x)?(p=n.La,!0):!1}function e(v,x,J){t=!0;if(d(v,!0,J)||c(x,!0))return!0;t=!1;return d(v,!1,J)||c(x,!1)?!0:!1}function g(v){if(p===n.L){f=v||b;p=n.RGBA8;t=!0;Z.td(f);C||(C=Z.$b(f));Aa.reset();E=f.createFramebuffer();m.ob=f.DRAW_FRAMEBUFFER||f.FRAMEBUFFER;f.bindFramebuffer(m.ob,null);f.clearColor(0,0,0,0);f.viewport(0,0,2,2);H.L();B=H.ab(f);v=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,v);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_WRAP_T,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);h=v;var x=v=f.RGBA,J=f.RGBA16F,M=f.RGBA32F;M&&(v=M);J&&(x=J);if((J||M)&&e(x,v,h))return k(),!0;v=x=f.RGBA;if(e(x,v,h))return k(),!0;p=n.RGBA8;k();return!1}}function k(){f.deleteProgram(B.wa);f.deleteTexture(h);h=B=null}for(var n={L:-1,cd:3,La:2,RGBA8:0},p=n.L,m={ce:null,Kd:null,ob:null},t=!0,w=new Uint8Array(16),A=Array(64),y=0;4>y;++y)for(var r=0;4>r;++r){var I=0===(r+y)%2?1:0,G=4*y+r;A[4*G]=I;A[4*G+1]=I;A[4*
G+2]=I;A[4*G+3]=I}var f=null,C=null,B=null,h=null,E=null;return{Me:function(v){g(v);return t},jd:function(v,x){p===n.L&&(typeof("undefined"!==x)&&(C=x),g(v));return p!==n.RGBA8},Sh:function(v){g(v);return p===n.cd},Rf:function(v){g(v);return p===n.La},Ah:function(v){g(v);return m.ce},xf:function(v){g(v);return m.Kd},m:function(){f=null;t=!0;p=n.L;C=null}}}(),Wb=function(){return{instance:function(a){var c=null,d=!1,e=!1,g=null,k=!1,n=!1,p=null,m="undefined"===typeof a.preprocessing?!1:a.preprocessing,
t="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,ta&&void 0!==ta.He&&(a.mask=ta.He+a.mask),c=aa.instance({isFloat:!1,url:a.mask}));var w=!1;a.customInputShader&&(w="s46",H.ed({name:"_",id:w,g:a.customInputShader,vi:["uSource"],precision:"lowp"}),H.S(w,[{type:"1i",name:"_",value:0}]));switch(m){case "sobel":p="s33";k=!0;break;case "meanNormalization":p="s34";k=!0;break;case "grayScale":p="s30";k=!1;break;case "grayScaleTilt":p="s31";n=!0;k=!1;break;case "rgbGrayTilt":p=
"s32";n=!0;k=!1;break;case "copy":p=w?w:"s0";break;case "inputLightRegulation":p=w?w:"s30";g=uc.instance({Jd:t,be:a.size,Zd:a.nBlurPass,Ab:!1});e=!0;break;case "inputMix0":p="none";g=vc.instance({C:t,Ae:a.varianceMin,hd:a.blurKernelSizePx,gain:a.gain||1,Ab:!1});e=!0;break;case "direct":case "none":p="abort";break;default:p="s4"}n&&H.S(p,[{name:"u27",type:"1f",value:a.tilt}]);d&&(p+="Mask");var A=aa.instance({isFloat:!1,isPot:!1,width:a.size}),y={D:function(){return t},hc:function(){return y.D()},
Cf:function(){return e?g.ic():A},V:function(r){Aa.fa();"abort"!==p&&("none"!==p&&(H.set(p),k&&H.F("u28",1/a.size),A.ba(),d&&c.h(1),U.l(!1,!1),A.h(0),r=A),e&&g.process(r))},m:function(){A.remove();d&&c.remove()}};return y}}}(),Xb=function(){return{instance:function(a){function c(x){g.forEach(function(J,M){k[M][0]=x[0][J];k[M][1]=x[1][J];k[M][2]=x[2][J];k[M][3]=x[3][J]});return k}a.normalize=a.normalize||!1;var d={input:null,bias:null,mc:null,oa:null,Ib:null,Gc:null,Hc:null},e=null,g=[],k=[],n=!1,p=
null,m=!0,t=-1,w=a.isReorganize?a.isReorganize:!1,A=a.kernelsCount?!0:!1,y=["s27","s28","s29"][a.shiftRGBAMode||0],r={isEnabled:!1};a.Of?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Kb.hc(),m=!1):"full"===a.connectivityUp&&(a.sparsity=a.Kb.hc());var I={elu:"s16",elu01:"s17",relu:"s15",arctan:"s18",arctan2:"s19",sigmoid:"s14",copy:"s0"}[a.activation],G=a.sparsity*a.sparsity,f=!1,C=a.size,B="";if(a.maxPooling){switch(a.maxPooling.size){case 2:B="s35";break;case 4:B="s36"}f=!0;C/=a.maxPooling.size;
d.Gc=aa.instance({isFloat:!0,isPot:!1,width:C})}var h=-1,E=null;m&&(d.oa=aa.instance({isFloat:!0,isPot:!1,width:a.size}));d.bias=aa.instance(a.bias);var v={D:function(){return a.size},hc:function(){return C},Cd:function(){return a.classesCount},Je:function(x){e.h(x)},$f:function(){a.remap&&a.remap.isEnabled&&(r={isEnabled:!0,Vf:aa.instance(a.remap.maskTexture),Db:a.remap.layers.map(function(x){return a.parent.Af(x)}),depth:a.remap.depth})},mg:function(){switch(a.connectivityUp){case "direct":E=wc.instance(a.connectivity);
break;case "square":E=xc.instance(a.connectivity);break;case "squareFast":E=yc.instance(a.connectivity,a.activation);break;case "full":E=zc.instance(a.connectivity);break;case "conv":t=a.kernelsCount,E=Ac.instance(a.connectivity),w&&(d.Ib=aa.instance({width:C,isFloat:!0,isFlipY:!1,isPot:!1}))}if(E.Ia){var x=a.size*a.sparsity;h=Math.log(x/a.size)/Math.log(2);d.input=aa.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:x,vc:h});d.mc=aa.instance({isFloat:!0,isPot:!0,width:a.size})}},V:function(x,J){e=
x;E.Ia?(d.input.ba(),A&&d.bias.h(2),E.V(r),d.input.h(0),d.input.pf(h),d.mc.ba(),A?H.set("s0"):(H.set(y),H.F("u4",G),d.bias.h(1)),d.input.Ke(h,0),U.l(!1,!1),H.set(I),d.oa.v(),d.mc.h(0),U.l(!1,!1)):(d.oa.ba(),d.bias.h(1),E.V());if(m)return f?(d.Gc.ba(),d.oa.h(0),H.set(B),H.ca("u10",1/a.size,1/a.size),U.l(!1,!1),J=d.Gc):J=d.oa,J.h(0),w&&(d.Ib.v(),H.set("s21"),H.ca("u14",t,C/t),U.l(!1,!1),J=d.Ib,d.Ib.h(0)),J;var M=d.oa;a.normalize&&(H.set("gpuRawAvg"===n?"s9":"s8"),H.F("u6",1/a.size),d.Hc.ba(),d.oa.h(0),
U.l(!1,!1),M=d.Hc);x=null;switch(n){case "cpuRGBA2Float":M.qd(!1);J?x=v.bg(M).then(p):(M=v.cg(M),p(M));break;case "cpuMeanFloat":M.qd(!0);if(J)x=M.eg().then(p);else{M=M.fg();for(var z=0;z<M.length;++z);p(M)}break;case "gpuRawAvg":case "gpuRaw":M.h(0);case "none":null!==p&&p(M)}J&&null===x&&(x=Promise.resolve());return x},Ve:function(x){x&&(n=x.Ic||"none",p=x.Ec||null);d.oa=aa.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});x="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:
a.size*a.size;for(var J=0,M=0,z=0;J<x;++J)g.push(M+(a.size-1-z)*a.size),k.push([-1,-1,-1,-1]),++M,M===a.size&&(M=0,++z);a.normalize&&(d.Hc=aa.instance({isFloat:!0,isPot:!0,width:a.size}))},bg:function(x){return x.dg().then(c)},cg:function(x){x=x.ge();c(x);return k},m:function(){for(var x in d){var J=d[x];J&&J.remove()}E&&(E.m(),E=null)}};a.Kb&&v.mg(a.Kb);return v}}}(),wc=function(){return{instance:function(a){var c=aa.instance(a.weights);return{Ia:!0,ub:function(){return 1},m:function(){c.remove()},
Gf:function(){return c},V:function(){H.set("s26");c.h(1);U.l(!1,!1)}}}}}(),zc=function(){return{instance:function(a){var c=a.fromLayerSize,d=aa.instance(a.weights);return{Ia:!0,ub:function(){return c},m:function(){d.remove()},V:function(e){if(e.isEnabled){H.set("s24");e.Vf.h(3);for(var g=Math.min(e.Db.length,e.depth),k=0;k<g;++k)e.Db[k].Je(4+k)}else H.set("s23");H.F("u18",a.toLayerSize);H.F("u19",a.fromLayerSize);d.h(1);U.l(!1,!1)}}}}}(),xc=function(){return{instance:function(a){for(var c=a.fromLayerSize,
d=a.toLayerSize,e=a.toSparsity,g=e*d,k=g/c,n=c/d,p=0,m=0,t=0,w=Array(e*d*e*d*4),A=Array(e*d*e*d*4),y=Array(c*c),r=0;r<y.length;++r)y[r]=0;r=Math.floor(e/2);for(var I=.5/d,G=.5/c,f=.5/g,C=0;C<d;++C)for(var B=Math.round(C*n),h=0;h<d;++h){var E=Math.round(h*n),v=C/d,x=h/d;v+=I;x+=I;for(var J=0;J<e;++J){var M=B+J-r;0>M&&(M+=c);M>=c&&(M-=c);for(var z=0;z<e;++z){var u=p/g,q=m/g,l=E+z-r;0>l&&(l+=c);l>=c&&(l-=c);var K=M/c,N=l/c;q=1-q-1/g;K+=G;N+=G;u+=f;q+=f;var O=C*e+J,Y=h*e+z;Y=d*e-Y-1;O=Y*d*e+O;w[4*O]=
u;w[4*O+1]=q;w[4*O+2]=K;w[4*O+3]=N;N=y[l*c+M]++;O=N%k;K=M*k+O;l=l*k+(N-O)/k;l=c*k-1-l;l=l*c*k+K;A[4*l]=u;A[4*l+1]=q;A[4*l+2]=v;A[4*l+3]=x;++p>=g&&(p=0,++m);++t}}}y=null;var sa=aa.instance(a.weights);delete a.weights.data;var wa=aa.instance({width:g,isFloat:!0,array:new Float32Array(A),isPot:!0});A=null;var Ja=aa.instance({width:g,isFloat:!0,array:new Float32Array(w),isPot:!0});w=null;return{Ia:!0,ub:function(){return k},m:function(){wa.remove();Ja.remove();sa.remove()},V:function(){H.set("s22");sa.h(1);
Ja.h(2);U.l(!1,!1)}}}}}(),Ac=function(){return{instance:function(a){var c=a.kernelsCount,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,g=a.inputScale||[1,1],k=aa.instance(a.weights);return{Ia:!0,ub:function(){return e},Lh:function(){return d},Gf:function(){return k},m:function(){k.remove()},V:function(){H.set("s25");H.og("u26",g);H.F("u24",c);H.F("u25",d);H.F("u18",a.toLayerSize);H.F("u19",a.fromLayerSize);k.h(1);U.l(!1,!1)}}}}}(),yc=function(){return{instance:function(a,c){var d=a.fromLayerSize,
e=a.toLayerSize,g=a.toSparsity,k=a.stride?a.stride:1,n=g*e/d,p=e<d,m=d/e,t=aa.instance(a.weights),w="s47"+[d.toString(),e.toString(),g.toString(),k.toString(),c].join("_");H.kf(w)||(a=sc.qf(c,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u18",value:e},{type:"1f",name:"u30",value:k}],p&&e.push({type:"1f",name:"u19",value:d}),d=[(p?n:g).toFixed(1),a],p&&d.push(m.toFixed(1)),H.Jf(p?"s41":"s40",w,d),H.S(w,e.concat([{type:"1i",name:"u16",value:0},{type:"1i",name:"u3",value:1},{type:"1i",name:"u15",
value:3}])));return{Ia:!1,ub:function(){return n},m:function(){t.remove()},V:function(){H.set(w);t.h(3);U.l(!1,!1)}}}}}(),uc=function(){return{instance:function(a){var c=a.Zd?a.Zd:3,d=a.Jd?a.Jd:64,e=a.be?a.be:64,g=a.Ab?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var k=aa.instance(a),n=aa.instance(a),p=aa.instance(a),m=aa.instance(a),t=aa.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),w=1/d;return{process:function(A){H.set("s37");m.v();U.l(g,!1);H.set("s38");for(var y=0;y<c;++y)k.v(),H.ca("u10",
w,0),U.l(g,!1),p.v(),m.h(0),U.l(g,!1),n.v(),k.h(0),H.ca("u10",0,w),U.l(g,!1),m.v(),p.h(0),U.l(g,!1),y!==c-1&&n.h(0);H.set("s39");t.v();A.h(0);n.h(1);m.h(2);U.l(g,!1);t.h(0)},ic:function(){return t}}}}}(),vc=function(){return{instance:function(a){function c(w){return aa.instance({isFloat:w,width:d.C,isPot:!1,isFlipY:!1})}var d=Object.assign({Ae:.1,hd:9,C:128,gain:1,Ab:!1},a),e=c(!1),g=[c(!1),c(!1),c(!1)],k=[c(!1),c(!1),c(!1)],n=c(!0),p=[e,k[0],k[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u31;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u31*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.hd-1)/2).toFixed(2)).replace("2.2222",(1/d.C).toFixed(6));var m="uniform sampler2D u32,u33,u34,u35;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u32,vv0).rgb;float c=texture2D(u33,vv0).r,d=texture2D(u34,vv0).r,i=texture2D(u35,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(j-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",d.Ae.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),t={u1:0};H.fd([{id:"s49",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",j:t,i:["u1"],precision:"lowp"},{id:"s50",name:"_",g:a,j:t,i:["u1","u31"],precision:"lowp"},{id:"s51",name:"_",g:m,j:{u32:0,u33:1,u34:2,u35:3},i:["u32","u33","u34","u35"],precision:"highp"}]);return{process:function(){H.set("s49");e.ba();U.l(d.Ab,!1);H.set("s50");for(var w=0;3>w;++w)H.ca("u31",1,0),g[w].v(),p[w].h(0),
U.l(!1,!1),H.ca("u31",0,1),k[w].v(),g[w].h(0),U.l(!1,!1);H.set("s51");n.v();e.h(0);k[0].h(1);k[1].h(2);k[2].h(3);U.l(!1,!1);n.h(0)},ic:function(){return n}}}}}(),V={Gd:function(){return V.od()?document.createElement("video"):!1},Ua:function(a,c){a[c]=!0;a.setAttribute(c,"true")},Qe:function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a},ld:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},rf:function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]},Wd:function(){try{return window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(a){return window.innerHeight>window.innerWidth}},Pe:function(){return V.md()||V.ld()},md:function(){var a=navigator.userAgent.toLowerCase();
return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1},oh:function(){return V.Qe()?V.Wd()?window.innerHeight/window.innerWidth*45:45:45},od:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1},pause:function(a){a.pause()},ji:function(a){a.play()},release:function(a){a.pause();a.videoStream&&a.videoStream.stop();a.videoStream=null},nd:function(a){if(!a)return a;var c=null;if(a.video){var d=function(e){return e&&"object"===typeof e?Object.assign({},e):e};c={};
"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=d(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&V.dd(c,a.deviceId);return c},dd:function(a,c){c&&(a.video=a.video||{},a.video.deviceId={exact:c},a.video.facingMode&&delete a.video.facingMode)},ve:function(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a},
Ue:function(a){function c(y){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(r,I){return Math.abs(r-y)-Math.abs(I-y)})}function d(y){var r=V.nd(a);y=y(r);g.push(y);e(y)}function e(y){if(y.video&&y.video.facingMode&&y.video.facingMode.exact){var r=y.video.facingMode.exact;y=V.nd(y);delete y.video.facingMode.exact;y.video.facingMode.ideal=r;g.push(y)}}var g=[];if(!a||!a.video)return g;e(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var k=
c(a.video.width.ideal).slice(0,3),n=c(a.video.height.ideal).slice(0,3),p={},m=0;for(p.qa=void 0;m<k.length;p={qa:p.qa},++m){p.qa=k[m];var t={},w=0;for(t.pa=void 0;w<n.length;t={pa:t.pa},++w)if(t.pa=n[w],p.qa!==a.video.width.ideal||t.pa!==a.video.height.ideal){var A=Math.max(p.qa,t.pa)/Math.min(p.qa,t.pa);A<4/3-.1||A>16/9+.1||d(function(y,r){return function(I){I.video.width.ideal=y.qa;I.video.height.ideal=r.pa;return I}}(p,t))}}}d(function(y){return V.ve(y)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&d(function(y){delete y.video.width.ideal;delete y.video.height.ideal;return y}),d(function(y){delete y.video.width;delete y.video.height;return y}));a.video.facingMode&&(d(function(y){delete y.video.facingMode;return y}),a.video.width&&a.video.height&&d(function(y){V.ve(y);delete y.video.facingMode;return y}));g.push({audio:a.audio,video:!0});return g},yg:function(a){if(V.Wd()){if(!a||!a.video)return!1;var c=a.video.width,d=a.video.height;if(!c||!d)return!1;if(c.ideal&&d.ideal&&
c.ideal>d.ideal)return a.video.height=c,a.video.width=d,!0}return!1},Fb:function(a){a.volume=0;V.Ua(a,"muted");if(V.md()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;V.Ua(a,"muted")},5)}},ye:function(a,c,d){return null===a?Promise.resolve():new Promise(function(e,g){if(a.srcObject&&a.srcObject.getVideoTracks){var k=
a.srcObject.getVideoTracks();1!==k.length?g("INVALID_TRACKNUMBER"):(k=k[0],c?V.get(a,e,g,d):(k.stop(),e()))}else g("BAD_IMPLEMENTATION")})},Fd:function(a,c,d,e){function g(n){k||(k=!0,d(n))}var k=!1;return navigator.mediaDevices.getUserMedia(e).then(function(n){function p(){setTimeout(function(){if(a.currentTime){var t=a.videoHeight;if(0===a.videoWidth||0===t)g("VIDEO_NULLSIZE");else{var w={Oe:null,tg:null,Wf:null};try{var A=n.getVideoTracks()[0];A&&(w.Wf=A,w.Oe=A.getCapabilities(),w.tg=A.getSettings())}catch(y){}V.Pe()?
a.parentNode&&null!==a.parentNode?(k||c(a,n,w),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),V.Fb(a),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";V.Fb(a);setTimeout(function(){a.play();k||c(a,n,w)},100)},80)):k||c(a,n,w)}}else g("VIDEO_NOTSTARTED")},700)}function m(){a.removeEventListener("loadeddata",m,!1);var t=a.play();V.Fb(a);"undefined"===typeof t?p():t.then(function(){p()}).catch(function(){g("VIDEO_PLAYPROMISEREJECTED")})}
"undefined"!==typeof a.srcObject?a.srcObject=n:(a.src=window.URL.createObjectURL(n),a.videoStream=n);V.Fb(a);a.addEventListener("loadeddata",m,!1)}).catch(function(n){g(n)})},Ef:function(a,c){var d=c||V.Gd();return new Promise(function(e,g){V.get(d,e,g,a)})},get:function(a,c,d,e){if(!a)return d&&d("VIDEO_NOTPROVIDED"),!1;if(!V.od())return d&&d("MEDIASTREAMAPI_NOTFOUND"),!1;if(e&&e.video&&V.ld()){var g=V.rf();0!==g[0]&&(12>g[0]||12===g[0]&&2>g[1])&&V.yg(e)}V.Ua(a,"autoplay");V.Ua(a,"playsinline");
e&&e.audio?a.volume=0:V.Ua(a,"muted");V.Fd(a,c,function(){function k(p){if(0===p.length)d("INVALID_FALLBACKCONSTRAINTS");else{var m=p.shift();V.Fd(a,c,function(){k(p)},m)}}var n=V.Ue(e);k(n)},e)},Ff:function(a){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a(!1,"NOTSUPPORTED"),!1;navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&c.length&&0<c.length?a(c,
!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")})},Og:function(a,c,d){var e={};e[c]=d;c=[];c.push(e);a.applyConstraints({advanced:c}).catch(function(){})}},ua=function(){function a(G,f,C,B,h,E,v){if(!r)if(v===E.length)h();else{switch(E[v]){case "A":C();break;case "D":G();break;case "S":f().then(function(x,J){I.Rb();a(G,f,C,J?null:B,h,E,++v)}).catch(function(x){console.log("An error occurred in the WebAR loop: ",x);h()});return;case "R":B&&B()}a(G,f,C,B,h,E,++v)}}var c={n:5,xc:1,
Xd:0,tb:[35,49],pb:[2,200],k:.7,Dg:200,Zf:.05},d=-1,e=null,g=-1,k=-1,n=0,p=-1,m=-1,t=0,w=0,A=c.pb[1],y=Math.log(2),r=!0,I={Bf:function(){switch(d){case -1:return-1;case 0:return m+e.Xd;case 1:return t}},th:function(G){return Math.pow(Math.min(Math.max(p,0),e.n-1)/(e.n-1),G||1)},o:function(G){e=Object.assign({},c,G);p=m=e.xc;d=0;I.reset()},Rb:function(G){G=("undefined"===typeof G?Date.now():G)||0;var f=Math.min(Math.max(G-w,e.pb[0]),e.pb[1]);A=f;w=G;var C=-1===g?0:e.k;g=Math.min(Math.max(1E3/f,5),
120)*(1-C)+g*C;G-k>e.Dg&&5<++n&&(f=e.k,p=p*(1-f)+(g<e.tb[0]?m-1:g>e.tb[1]?m+1:m)*f,Math.abs(p-m)>1-e.Zf&&(f=Math.min(Math.max(Math.round(p),0),e.n-1),f!==m&&(p=m=f,g=(e.tb[1]-e.tb[0])/2)),k=G)},Jc:function(G,f,C,B,h,E){r=!1;a(G,f,C,B,h,E,0)},stop:function(){r=!0},Lc:function(G){t=G;d=1},Xc:function(){d=0;I.reset()},reset:function(){A=c.pb[1];k=g=-1;n=0},ui:function(G,f,C){C=Math.exp(-y*A/C);return(1-C)*G+C*f},xh:function(){return A}};return I}(),Qa=function(){function a(A,y){var r=A[0]-.5;A=A[1]-
.5;var I=y[0]-.5;y=y[1]-.5;return r*r+A*A-(I*I+y*y)}var c={$d:4,Jb:[1.5,1.5,2],W:[.1,.1,.1],je:1,C:-1,H:-1,xg:2,Yf:1,ke:!0,ef:.8},d=null,e=[],g=[],k=[],n=[0],p=[.5,.5,1],m=null,t=0,w=[0,0,0];return{o:function(A){d=Object.assign({},c,A);e.splice(0);g.splice(0);k.splice(0);t=0;A=d.Jb[0]*d.W[0];var y=d.Jb[1]*d.W[1],r=1/(1+d.Jb[2]*d.W[2]),I=d.je*Math.min(d.C,d.H),G=I/d.C;I/=d.H;var f=.5*d.ef;f*=f;for(var C=0;C<d.$d;++C){var B=[];g.push(B);var h=Math.pow(r,C),E=G*h,v=I*h;h=E*d.Yf;k.push(h);var x=E*A,J=
v*y;E/=2;v/=2;for(var M=1+(1-E-E)/x,z=1+(1-v-v)/J,u=0;u<z;++u)for(var q=v+u*J,l=q-.5,K=0;K<M;++K){var N=E+K*x,O=N-.5;O*O+l*l>f||(N=[N,q,h],e.push(N),B.push(N))}d.ke&&B.sort(a);m=e}d.ke&&e.sort(a)},get:function(A){var y=m.length;if(0===y)return p;for(;A>=n.length;)n.push(0);n[A]>=y&&(n[A]=0);var r=m[Math.floor(n[A])%y];n[A]=(n[A]+1/d.xg)%y;if(0===t)return r;w[0]=r[0];w[1]=r[1];w[2]=t;return w},ag:function(A){A>=n.length||(n[A]=Math.floor(Math.random()*m.length))},Mc:function(A){t=A;if(0===t)m=e;else{for(var y=
k.length,r=y-1,I=0;I<y;++I)if(k[I]<=A){r=I;break}m=g[r]}},reset:function(){for(var A=e.length/n.length,y=0;y<n.length;++y)n[y]=Math.floor(y*A);t=0;m=e}}}(),Ua=function(){function a(){d(G+r.wc);f.port.postMessage("DONE")}function c(){E.ib=0===r.hb?B(d):B(e)}function d(z){h.Ea&&null!==I&&(z-=G,z=Math.min(Math.max(z,r.rd[0]),r.rd[1]),G+=z,k(),v.isEnabled&&v.Wa&&h.aa&&G-v.sc>r.ad&&(t(),v.sc=G),I(G))}function e(z){h.Ea&&(E.timeout=setTimeout(d.bind(null,z),r.hb))}function g(){I=null;h.Ea=!1;k()}function k(){E.ib&&
(window.cancelAnimationFrame(E.ib),E.ib=null);E.timeout&&(window.clearTimeout(E.timeout),E.timeout=null)}function n(z){z&&!h.aa?(h.aa=!0,C&&ua.Xc(),f.port.postMessage("STOP"),Z.xe(!0),c()):!z&&h.aa&&(h.aa=!1,C&&ua.Lc(1),Z.xe(!1),f.port.postMessage("START"))}function p(z){z.target.hidden?J():x()}function m(z,u,q){u=z.createShader(u);z.shaderSource(u,q);z.compileShader(u);return u}function t(){v.Wa=!1;var z=v.ka,u=v.xb,q=v.yb,l=v.Z;z.uniform1f(v.Hd,Math.random());v.Fa?u.beginQueryEXT(l,q):z.beginQuery(l,
q);z.drawElements(z.POINTS,1,z.UNSIGNED_SHORT,0);v.Fa?u.endQueryEXT(l):z.endQuery(l);Z.flush();A().then(function(K){0===K||isNaN(K)?(v.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",K)):(K=r.Be*r.$c*1E3/K,v.Tb=(v.Tb+1)%r.Ka,v.tc[v.Tb]=K,++v.Za>r.Ka&&(v.Cb.set(v.tc),v.Cb.sort(function(N,O){return N-O}),K=v.Cb[Math.floor(r.Ka/2)],v.rb=Math.max(v.rb,K),r.Zc(K/v.rb)),v.Wa=!0)}).catch(function(){v.Wa=!0})}function w(z){var u=v.ka,
q=v.xb,l=v.yb;l=v.Fa?q.qh(l,q.QUERY_RESULT_AVAILABLE_EXT):u.getQueryParameter(l,u.QUERY_RESULT_AVAILABLE);u=u.getParameter(q.GPU_DISJOINT_EXT);l?z(!u):setTimeout(w.bind(null,z),.1)}function A(){return new Promise(function(z,u){w(function(q){if(q){q=v.ka;var l=v.xb,K=v.yb;q=v.Fa?l.getQueryObjectEXT(K,l.QUERY_RESULT_EXT):q.getQueryParameter(K,q.QUERY_RESULT);z(q)}else u()})})}var y={Rd:!0,rd:[1,200],wc:20,hb:0,$c:50,Be:240,ad:3E3,Ka:3,Zc:null},r=null,I=null,G=0,f=null,C=!1,B=null,h={ua:!1,aa:!0,qc:!1,
oc:!1,nc:!1,Ea:!1},E={ib:null,timeout:null},v={isEnabled:!1,Wa:!1,ka:null,xb:null,yb:null,Z:null,Hd:null,Fa:!0,sc:0,Za:0,tc:null,Cb:null,Tb:0,rb:0},x=n.bind(null,!0),J=n.bind(null,!1),M={o:function(z){r=Object.assign(y,z);Object.assign(h,{aa:!0,ua:!0,Ea:!1});B=window.requestPostAnimationFrame||window.requestAnimationFrame;if(null!==r.Zc){z=document.createElement("canvas");z.setAttribute("width","1");z.setAttribute("height","1");var u={antialias:!1};z=z.getContext("webgl2",u)||z.getContext("webgl",
u);if(u=z.getExtension("EXT_disjoint_timer_query")||z.getExtension("EXT_disjoint_timer_query_webgl2")){v.ka=z;v.xb=u;v.isEnabled=!0;v.Fa=u.beginQueryEXT?!0:!1;var q=m(z,z.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),l=m(z,z.FRAGMENT_SHADER,"precision lowp float;uniform float u36;void main(){vec4 a=u36*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",r.$c.toString())),K=z.createProgram();z.attachShader(K,q);z.attachShader(K,l);z.linkProgram(K);q=
z.getAttribLocation(K,"a0");v.Hd=z.getUniformLocation(K,"u36");z.useProgram(K);z.enableVertexAttribArray(q);K=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,K);z.bufferData(z.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),z.STATIC_DRAW);z.vertexAttribPointer(q,4,z.FLOAT,!1,16,0);K=z.createBuffer();z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,K);z.bufferData(z.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),z.STATIC_DRAW);z.disable(z.DEPTH_TEST);z.disable(z.DITHER);z.disable(z.STENCIL_TEST);z.viewport(0,0,1,1);K=v.Fa?
u.createQueryEXT():z.createQuery();v.yb=K;v.Z=u.TIME_ELAPSED_EXT||z.TIME_ELAPSED;v.sc=-r.ad;v.tc=new Float32Array(r.Ka);v.Cb=new Float32Array(r.Ka);v.rb=0;v.Tb=0;v.Za=0;v.Wa=!0}}if(r.Rd){z=!1;try{if("undefined"===typeof SharedWorker){var N=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
r.wc.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),O=new Worker(N);O.addEventListener("message",a);f={de:O,port:O};h.qc=!0}else{var Y=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
r.wc.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),sa=new SharedWorker(Y);sa.port.start();sa.port.addEventListener("message",a);f={de:sa,port:sa.port};h.oc=!0}z=!0}catch(wa){}z&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",p):(window.addEventListener("blur",J),window.addEventListener("focus",x)),window.addEventListener("pagehide",
J),window.addEventListener("pageshow",x),h.nc=!0)}C="undefined"!==typeof ua},m:function(){g();h.nc&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",p):(window.removeEventListener("blur",J),window.removeEventListener("focus",x)),window.removeEventListener("pagehide",J),window.removeEventListener("pageshow",x),h.nc=!1);h.oc?(f.port.close(),h.oc=!1):h.qc&&(f.de.terminate(),h.qc=!1);Object.assign(h,{aa:!0,ua:!1,Ea:!1});I=null},Yh:function(){return h.aa},update:function(z){Object.assign(r,
z)},Jc:function(z){h.ua||M.o({});k();h.Ea=!0;I=z;h.aa&&c()},stop:g};return M}(),ba=function(){function a(f,C,B,h){return Math.max(0,B>f?f+C/2-(B-h/2):B+h/2-(f-C/2))}function c(f){return!p.Nd(f)}function d(f,C,B){for(var h=f.length;I.length<h;)I.push({na:[0,0],Eb:[0,0],ga:[0,0],xa:0,scale:0,Sa:0,bb:0});h=f.length;for(var E=0;E<h;++E){var v=f[E],x=I[E],J=C[E].rz,M=Math.cos(J),z=Math.sin(J);x.xa=J;x.Sa=M;x.bb=z;x.ga[0]=v.x;x.ga[1]=v.y/B;x.scale=v.P;x.na[0]=v.P*p.bc[0];x.na[1]=v.P*p.bc[1];x.Eb[0]=x.na[0]*
x.na[0];x.Eb[1]=x.na[1]*x.na[1]}}function e(f,C,B){var h=Math.abs(-f.bb*(B-f.ga[1])-f.Sa*(C-f.ga[0]));C=Math.abs(f.Sa*(B-f.ga[1])-f.bb*(C-f.ga[0]));return 1>=h*h/f.Eb[0]+C*C/f.Eb[1]}function g(f,C,B,h){var E=f[B];d(f,C,h);var v=I[B];return f.some(function(x,J){if(!(x=J===B||E.va>x.va||3>x.va||!(0<a(E.x,E.P*r,x.x,x.P*r))||!(0<a(E.y,E.P*h*r,x.y,x.P*h*r)))){x=I[J];v.scale>x.scale?J=v:(J=x,x=v);for(var M=0,z=0,u=p.ff,q=0;q<u;++q)for(var l=((q+.5)/u*2-1)*x.na[1],K=0;K<u;++K){var N=((K+.5)/u*2-1)*x.na[0],
O=x.ga[0]+(-l*x.bb+N*x.Sa);N=x.ga[1]+(l*x.Sa+N*x.bb);e(x,O,N)&&(++M,e(J,O,N)&&++z)}x=z/M<p.Yd}return x?!1:!0})}function k(f){return f.isDetected}var n={M:1,Yd:.3,bc:[1,1],ff:6,le:.3,Nd:null,Pf:!0},p=null,m=0,t=null,w=!1,A=0,y=0,r=Math.sqrt(2),I=[],G={o:function(f){p=Object.assign({},n,f);t=[0]},Vd:function(){return 1!==p.M},Dd:function(){return m},Ud:function(){return w},ja:function(){return p.M},Jh:function(){return t},Sf:function(f){return t.includes(f)},update:function(f,C){var B=t;if(B.length>
f)B.splice(0,B.length-f);else for(;B.length<f;)B.push(0);if(1!==p.M)if(C.every(c)){C=A;for(var h=0;h<f;++h)B[h]=C,C=(C+1)%p.M;A=C}else{h=Math.round(p.le*f);h=Math.max(1,h);for(var E=A,v=0,x=0;v<f;++v){if(c(C[E])&&++x>h){do++E===p.M&&(E=0);while(c(C[E]))}B[v]=E;E=(E+1)%p.M}A=E}},Rb:function(f){m=t[f];y=(.5+m)/p.M;w=t.lastIndexOf(m)===f;return m},ug:function(f,C,B){return 1===p.M?!1:g(f,C,m,B)},we:function(f){p.Pf&&1===p.M||H.F(f,y)},lf:function(f){return f.find(k)},mf:function(f){return f.findIndex(k)},
jf:function(f){var C=G.lf(f);if(!C||f.every(k))return Qa.Mc(0),!1;Qa.Mc(C.s);return!0},df:function(f){for(var C=new Float32Array(f.length*p.M),B=0,h;B<p.M;++B)for(h=0;h<f.length;++h)C[B*f.length+h]=f[h];return C},ac:function(f){for(var C=[],B=0;B<p.M;++B)C.push(JSON.parse(JSON.stringify(f)));return C}};return G}(),ta={gd:0,Fg:20,gf:!0,hg:{thresholdSignal:.2,threshold:.93,nDetectsPerLoopRange:[2,8],nDetectsPerLoop:0,nScaleLevels:3,scale0Factor:.8,overlapFactors:[2,2,3],translationScalingFactors:[1,
1,1],readPixelsAsyncDelay:1,enableAsyncReadPixels:!1,isCleanGLStateAtEachIteration:!0,animateProcessOrder:"DSAR",disableIsRightHandNNEval:!1,multiDetectionSearchSlotsRate:.3,multiDetectionMaxOverlap:.7,multiDetectionOverlapScaleXY:[1,1],multiDetectionEqualizeSearchSlotScale:!1,multiDetectionForceSearchOnOtherSide:!1,multiDetectionForceChirality:0},W:[.07,.07,.15],Ag:50,Xf:2,wg:{qualityFactorRange:[.75,.92],alphaRange:[.05,.9],followZRotAlphaFactorRange:[.05,.5],switchNNErrorThreshold:.5,switchNNMinIterations:8,
switchNNConsecutiveIterations:6,NNSwitchMask:{isFlipped:!0,isRightHand:!0}},Ee:.1,Fe:1.5,vg:9},va={facingMode:"user",idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,rotate:0},ea={uc:-1,error:-2,Hb:0,te:1,play:2,pause:3},ha=ea.Hb,Ab=!1,kb=!1,D=null,Bc={Xa:!1,Od:!1,Rc:null,element:null,I:null,G:[0,0],u:[.5,0,0,.5],da:[.5,0,0,.5],Mb:0,Qa:null,Dc:null,Bc:null,zb:!1},P=null,Cc={Pa:!1,Wb:!1,eb:null,fb:null,X:!1,gb:ta.gd,di:ta.gd,sa:!0,dc:!0,pc:!0},fb=null,Oa=[-1,-1],
ja=[],da=[],Da=[],la={Qc:null,Ya:null,Lb:null,Oa:null,Za:0},Za={Ub:0,bd:1},X=null,na=null,T=null,Dc={C:0,H:0,jb:1,G:[0,0],Ca:null},fa={size:0,cb:null,ya:null,buffer:null,Pc:null},Pa=null,pa=null,ub=null,za=-1,Ma={labels:[],ee:null,yc:0,Ac:0},hb={ae:0,Ge:1,Hf:2},vb=[],Pb=0,tb=!1,kc=Math.PI/180,gb={VERSION:"1.6.5",init:function(a){if(ha!==ea.Hb)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;ha=ea.uc;Pb=0;D=Object.assign({},Bc);P=Object.assign({},Cc);T=Object.assign({},Dc);!function(t){if(false&&false)module.exports=t();else if(false&&false)define([],t);else{("undefined"!=typeof window?window:false?global:"undefined"!=typeof self?self:this).zyp=t()}}(function(){return function(){return function t(r,e,o){function n(i,a){if(!e[i]){if(!r[i]){var u=false;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var f=e[i]={exports:{}};r[i][0].call(f.exports,function(t){return n(r[i][1][t]||t)},f,f.exports,t,r,e,o)}return e[i].exports}for(var s=false,i=0;i<o.length;i++)n(o[i]);return n}}()({1:[function(t,r,e){Object.defineProperty(e,"zzB",{value:!0}),e.default=e.zzZ3=void 0;var o=t("./zzz3/zz04"),n=t("zz14");function s(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function t(r){var e=r.shift();if(0===r.length)return new Float32Array(e);for(var o=Array(e),n=0;n<e;++n)o[n]=t(r.slice(0));return o},a=function(t,r){var e=t[0][0]+t[1][1]+t[2][2],o=t[0][0],n=t[1][0],s=t[2][0],i=t[0][1],a=t[1][1],u=t[2][1],h=t[0][2],f=t[1][2],c=t[2][2],l=0,v=0,m=0,g=0;if(e>0){var w=.5/Math.sqrt(e+1);l=.25/w,v=(f-u)*w,m=(s-h)*w,g=(i-n)*w}else if(o>a&&o>c){var p=2*Math.sqrt(1+o-a-c);l=(f-u)/p,v=.25*p,m=(n+i)/p,g=(s+h)/p}else if(a>c){var y=2*Math.sqrt(1+a-o-c);l=(s-h)/y,v=(n+i)/y,m=.25*y,g=(u+f)/y}else{var d=2*Math.sqrt(1+c-o-a);l=(i-n)/d,v=(s+h)/d,m=(u+f)/d,g=.25*d}r[0]=v,r[1]=m,r[2]=g,r[3]=l};e.zzZ3=a;var u=function(){function t(r){var e=r.cameraFocals,n=void 0===e?[1,1]:e,s=r.zz32,a=void 0===s?9:s;!function(t,r){if(!(t instanceof r))throw new Error()}(this,t),this.rMat=o.Matrix.zzJ1(3,3),this.tVec=[0,0,0],this.zyp14(n),this.zz32=a,this.zz42=new Float32Array,this.us=new Float32Array,this.zz52=new Float32Array,this.zz62=new Float32Array,this.zz72=0,this.zz82=0,this.zz92=o.Matrix.zzG1(4,3),this.zzA2=o.Matrix.zzG1(4,3),this.zzk3=0;this.mem={dv:i([4,6,3]),v:new Uint8Array([11,10,9,8]),zzX3:i([4,4]),zzW3Dets:i([4,2]),Rs:i([4,3,3]),ts:i([4,3]),CC:o.Matrix.zzG1(3,3),L6x4:o.Matrix.zzG1(6,4),L6x3:o.Matrix.zzG1(6,3),L6x5:o.Matrix.zzG1(6,5),A:o.Matrix.zzG1(6,4),B:o.Matrix.zzG1(6,1),zzG141:o.Matrix.zzG1(4,1),pc0:new Float32Array(3),pw0:new Float32Array(3),ABt:o.Matrix.zzG1(3,3),L6x10:o.Matrix.zzG1(6,10),zzY3:o.Matrix.zzG1(6,1),zzm3:null,U3:o.Matrix.zzG1(3,3),U12:o.Matrix.zzG1(12,12)},this.zzB2={PW0:null,tPW0:null,M:null,tM:null},this.zzV3={zzl3:-1,zyp13:!1,R:null,t:null,repError:-1,q:new Float32Array(4)}}var r,e,u;return r=t,(e=[{key:"solve",value:function(t,r){this.zzV3.zyp13=!1;var e=t.length;if(e!==r.length||e<4)throw new Error();this.zzk1(e);for(var o=0;o<e;++o)this.zzl1(t[o],r[o],o);return this.zzj1(),this.zzV3}},{key:"zyp14",value:function(t){this.fu=t[0],this.fv=t[1]}},{key:"zzk1",value:function(t){this.zz82!==t&&(this.zzB2.PW0=o.Matrix.zzG1(t,3),this.zzB2.tPW0=o.Matrix.zzG1(3,t),this.zzB2.M=o.Matrix.zzG1(2*t,12),this.zzB2.tM=o.Matrix.zzG1(12,2*t),this.zz82=t),this.zz72<t&&(this.zz42=new Float32Array(3*t),this.us=new Float32Array(2*t),this.zz52=new Float32Array(4*t),this.zz62=new Float32Array(3*t),this.zz72=t)}},{key:"zzl1",value:function(t,r,e){var o=this.zz42,n=this.us;o[3*e]=t[0],o[3*e+1]=t[1],o[3*e+2]=t[2],n[2*e]=r[0],n[2*e+1]=r[1]}},{key:"zzm1",value:function(){var t=this.zz92,r=this.zz82,e=this.zz42,s=this.zzB2,i=s.PW0,a=s.tPW0,u=this.mem.U3;t.set(0,0,0),t.set(0,1,0),t.set(0,2,0);for(var h=0;h<r;++h)for(var f=0;f<3;++f)t.zzn3(0,f,e[3*h+f]);for(var c=0;c<3;++c)t.mulComponent(0,c,1/r);for(var l=0;l<r;++l)for(var v=0;v<3;++v)i.set(l,v,e[3*l+v]-t.get(0,v));i.zz012(a),a.zzr2(i,u);var m=u,g=(0,o.zz92)(m,{zzZ2:!1,zzj3:0});g.U.zz012(u);for(var w=u,p=g.s,y=1;y<4;++y)for(var d=(0,n.zzr3)(p[y-1]/r),b=0;b<3;++b)t.set(y,b,t.get(0,b)+d*w.get(y-1,b))}},{key:"zzn1",value:function(){for(var t=this.zz42,r=this.zz52,e=this.zz92,n=this.zz82,s=this.mem.CC,i=0;i<3;++i)for(var a=1;a<4;++a)s.set(i,a-1,e.get(a,i)-e.get(0,i));for(var u=(0,o.inverse2)(s,!0,20),h=0;h<n;++h){for(var f=3*h,c=4*h,l=0;l<3;++l)r[c+1+l]=u.get(l,0)*(t[f]-e.get(0,0))+u.get(l,1)*(t[f+1]-e.get(0,1))+u.get(l,2)*(t[f+2]-e.get(0,2));r[c]=1-r[c+1]-r[c+2]-r[c+3]}}},{key:"zzLM",value:function(t,r,e,o,n){for(var s=this.zz52,i=this.fu,a=this.fv,u=0;u<4;++u){var h=s[e+u];t.set(r,3*u,h*i),t.set(r,3*u+1,0),t.set(r,3*u+2,-o*h),t.set(r+1,3*u,0),t.set(r+1,3*u+1,h*a),t.set(r+1,3*u+2,-n*h)}}},{key:"zzp1",value:function(t,r){for(var e=this.mem,o=e.dv,s=e.v,i=0;i<4;++i)for(var a=0,u=1,h=0;h<6;++h)o[i][h][0]=t.get(s[i],3*a)-t.get(s[i],3*u),o[i][h][1]=t.get(s[i],3*a+1)-t.get(s[i],3*u+1),o[i][h][2]=t.get(s[i],3*a+2)-t.get(s[i],3*u+2),++u>3&&(u=++a+1);for(var f=0;f<6;++f)r.set(f,0,(0,n.zzs3)(o[0][f],o[0][f])),r.set(f,1,2*(0,n.zzs3)(o[0][f],o[1][f])),r.set(f,2,(0,n.zzs3)(o[1][f],o[1][f])),r.set(f,3,2*(0,n.zzs3)(o[0][f],o[2][f])),r.set(f,4,2*(0,n.zzs3)(o[1][f],o[2][f])),r.set(f,5,(0,n.zzs3)(o[2][f],o[2][f])),r.set(f,6,2*(0,n.zzs3)(o[0][f],o[3][f])),r.set(f,7,2*(0,n.zzs3)(o[1][f],o[3][f])),r.set(f,8,2*(0,n.zzs3)(o[2][f],o[3][f])),r.set(f,9,(0,n.zzs3)(o[3][f],o[3][f]))}},{key:"zzq1",value:function(t){var r=this.zz92;t.set(0,0,(0,n.zzq3)(r,0,1)),t.set(1,0,(0,n.zzq3)(r,0,2)),t.set(2,0,(0,n.zzq3)(r,0,3)),t.set(3,0,(0,n.zzq3)(r,1,2)),t.set(4,0,(0,n.zzq3)(r,1,3)),t.set(5,0,(0,n.zzq3)(r,2,3))}},{key:"zzr1",value:function(t,r,e){for(var s=this.mem.L6x4,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,3)),s.set(i,3,t.get(i,6));var a=(0,o.zzp3)(s,r,!0,10),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(1,0)/e[0],e[2]=u*a.get(2,0)/e[0],e[3]=u*a.get(3,0)/e[0]}},{key:"zzs1",value:function(t,r,e){for(var s=this.mem.L6x3,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,2));var a=(0,o.zzp3)(s,r,!0,11),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(2,0)>0?(0,n.zzr3)(u*a.get(2,0)):0,e[0]*=(0,n.SIGN)(a.get(1,0)),e[2]=0,e[3]=0}},{key:"zzt1",value:function(t,r,e){for(var s=this.mem.L6x5,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,2)),s.set(i,3,t.get(i,3)),s.set(i,4,t.get(i,4));var a=(0,o.zzp3)(s,r,!0,12),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(2,0)>0?(0,n.zzr3)(u*a.get(2,0)):0,a.get(1,0)<0&&(e[0]*=-1),e[2]=a.get(3,0)/e[0],e[3]=0}},{key:"zzu1",value:function(t,r,e){for(var o=this.mem,n=o.A,s=o.B,i=0;i<this.zz32;++i){this.zzv1(t,r,e,n,s);for(var a=this.zzw1(n,s),u=0;u<4;++u)e[u]+=a.get(u,0)}}},{key:"zzv1",value:function(t,r,e,o,n){for(var s=0;s<6;++s)o.set(s,0,2*t.get(s,0)*e[0]+t.get(s,1)*e[1]+t.get(s,3)*e[2]+t.get(s,6)*e[3]),o.set(s,1,t.get(s,1)*e[0]+2*t.get(s,2)*e[1]+t.get(s,4)*e[2]+t.get(s,7)*e[3]),o.set(s,2,t.get(s,3)*e[0]+t.get(s,4)*e[1]+2*t.get(s,5)*e[2]+t.get(s,8)*e[3]),o.set(s,3,t.get(s,6)*e[0]+t.get(s,7)*e[1]+t.get(s,8)*e[2]+2*t.get(s,9)*e[3]),n.set(s,0,r.get(s,0)-(t.get(s,0)*e[0]*e[0]+t.get(s,1)*e[0]*e[1]+t.get(s,2)*e[1]*e[1]+t.get(s,3)*e[0]*e[2]+t.get(s,4)*e[1]*e[2]+t.get(s,5)*e[2]*e[2]+t.get(s,6)*e[0]*e[3]+t.get(s,7)*e[1]*e[3]+t.get(s,8)*e[2]*e[3]+t.get(s,9)*e[3]*e[3]))}},{key:"zzw1",value:function(t,r){var e=null;return this.mem.zzm3?(e=this.mem.zzm3).update(t):(e=new o.zzT2(t),this.mem.zzm3=e),e.zzY1()?e.solve(r):this.mem.zzG141}},{key:"zzx1",value:function(t,r){for(var e=this.zzA2,o=0;o<4;++o)e.set(o,0,0),e.set(o,1,0),e.set(o,2,0);for(var n=0;n<4;++n)for(var s=0;s<4;++s)for(var i=0;i<3;++i)e.zzn3(s,i,t[n]*r.get(11-n,3*s+i))}},{key:"zzy1",value:function(){for(var t=this.zzA2,r=this.zz82,e=this.zz52,o=this.zz62,n=0;n<r;++n)for(var s=4*n,i=3*n,a=0;a<3;++a)o[i+a]=e[s]*t.get(0,a)+e[s+1]*t.get(1,a)+e[s+2]*t.get(2,a)+e[s+3]*t.get(3,a)}},{key:"zzz1",value:function(){var t=this.zz62,r=this.zz82,e=this.zzA2;if(t[2]<0){for(var o=0;o<4;++o)for(var n=0;n<3;++n)e.mulComponent(o,n,-1);for(var s=0;s<r;++s)t[3*s]=-t[3*s],t[3*s+1]=-t[3*s+1],t[3*s+2]=-t[3*s+2]}}},{key:"zz02",value:function(t,r){var e=this.zz62,s=this.zz42,i=this.zz82,a=this.mem,u=a.pc0,h=a.pw0,f=a.ABt;f.zzi3();for(var c=0;c<i;++c)for(var l=0;l<3;++l)u[l]+=e[3*c+l],h[l]+=s[3*c+l];for(var v=0;v<3;++v)u[v]/=i,h[v]/=i;for(var m=0;m<i;++m)for(var g=0;g<3;++g)f.zzn3(g,0,(e[3*m+g]-u[g])*(s[3*m]-h[0])),f.zzn3(g,1,(e[3*m+g]-u[g])*(s[3*m+1]-h[1])),f.zzn3(g,2,(e[3*m+g]-u[g])*(s[3*m+2]-h[2]));for(var w=(0,o.zz92)(f,{zzj3:2}),p=w.U,y=w.V,d=0;d<3;++d)for(var b=0;b<3;++b)t[d][b]=(0,n.zzs3)(p.zzM(d),y.zzM(b));var M=new o.Matrix(t),x=(0,o.zzU1)(M);return x<=0&&(t[2][0]*=-1,t[2][1]*=-1,t[2][2]*=-1),r[0]=u[0]-(0,n.zzs3)(t[0],h),r[1]=u[1]-(0,n.zzs3)(t[1],h),r[2]=u[2]-(0,n.zzs3)(t[2],h),x}},{key:"zz12",value:function(t,r){for(var e=0,o=this.zz82,s=this.fu,i=this.fv,a=this.zz42,u=this.us,h=0;h<o;++h){var f=a.slice(3*h,3*h+3),c=(0,n.zzs3)(t[0],f)+r[0],l=(0,n.zzs3)(t[1],f)+r[1],v=1/((0,n.zzs3)(t[2],f)+r[2]),m=s*c*v,g=i*l*v,w=u[2*h],p=u[2*h+1];e+=(0,n.zzr3)((w-m)*(w-m)+(p-g)*(p-g))}return e/o}},{key:"zz22",value:function(t,r,e,o,n){this.zzx1(r,t),this.zzy1(),this.zzz1(),n[1]=this.zz02(e,o),n[0]=this.zz12(e,o)}},{key:"zzj1",value:function(){var t=this.zz82,r=this.us,e=this.mem,n=this.zzV3,s=this.zzk3,i=e.L6x10,u=e.zzY3,h=e.zzX3,f=e.zzW3Dets,c=e.Rs,l=e.ts,v=e.U12,m=this.zzB2,g=m.M,w=m.tM;this.zzm1(),this.zzn1();for(var p=0;p<t;++p)this.zzLM(g,2*p,4*p,r[2*p],r[2*p+1]);g.zz012(w),w.zzr2(g,v);var y=v;(0,o.zz92)(y,{zzZ2:!1,zzj3:1}).U.zz012(v);var d=v;this.zzp1(d,i),this.zzq1(u),this.zzr1(i,u,h[0]),this.zzu1(i,u,h[0]),this.zz22(d,h[0],c[0],l[0],f[0]),this.zzs1(i,u,h[1]),this.zzu1(i,u,h[1]),this.zz22(d,h[1],c[1],l[1],f[1]),this.zzt1(i,u,h[2]),this.zzu1(i,u,h[2]),this.zz22(d,h[2],c[2],l[2],f[2]),this.zzu1(i,u,h[3]),this.zz22(d,h[3],c[3],l[3],f[3]),f[3][0]/=1.02;var b=-1;f[0][1]*s>=0&&(b=0),(-1===b||f[1][0]<f[b][0])&&f[1][1]*s>=0&&(b=1),(-1===b||f[2][0]<f[b][0])&&f[2][1]*s>=0&&(b=2),(-1===b||f[3][0]<f[b][0])&&f[3][1]*s>=0&&(b=3),-1===b&&(b=0,f[1][0]<f[b][0]&&(b=1),f[2][0]<f[b][0]&&(b=2),f[3][0]<f[b][0]&&(b=3)),this.zzk3=f[b][1],h[3].set(h[b]);var M=c[b];M[0][2]*=-1,M[1][2]*=-1,M[2][0]*=-1,M[2][1]*=-1,a(M,n.q),n.zzl3=b,n.zyp13=!0,n.repError=f[b][0],n.R=M,n.t=l[b]}}])&&s(r.prototype,e),u&&s(r,u),t}();e.default=u},{"zz14":3,"./zzz3/zz04":4}],2:[function(t,r,e){var o,n=(o=t("./zypSolver"))&&o.zzB?o:{default:o};r.exports={zypSolver:n.default}},{"./zypSolver":1}],3:[function(t,r,e){Object.defineProperty(e,"zzB",{value:!0}),e.zzq3=e.zzs3=e.SIGN=e.zzr3=void 0;var o=Math.sqrt;e.zzr3=o;var n=Math.sign;e.SIGN=n;e.zzs3=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]};e.zzq3=function(t,r,e){var o=t.get(r,0),n=t.get(r,1),s=t.get(r,2),i=t.get(e,0),a=t.get(e,1),u=t.get(e,2);return(o-i)*(o-i)+(n-a)*(n-a)+(s-u)*(s-u)}},{}],4:[function(t,r,e){function o(t,r){if("function"!=typeof r&&null!==r)throw new Error();t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&n(t,r)}function n(t,r){return(n=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function s(t){var r=function(){if("undefined"==typeof zzt3||!zzt3.construct)return!1;if(zzt3.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(zzt3.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,o=a(t);if(r){var n=a(this).constructor;e=zzt3.construct(o,arguments,n)}else e=o.apply(this,arguments);return i(this,e)}}function i(t,r){return!r||"object"!==c(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,r){if(!(t instanceof r))throw new Error()}function h(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,r,e){return r&&h(t.prototype,r),e&&h(t,e),t}function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l,v;l=void 0,v=function(t){var r=Object.prototype.toString;function e(t){return r.call(t).endsWith("Array]")}function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();if(void 0!==o.output){if(!e(o.output))throw new Error();r=o.output}else r=new Array(t.length);var n=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();var o=r.fromIndex,n=void 0===o?0:o,s=r.toIndex,i=void 0===s?t.length:s;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error();if(i<=n||i>t.length||!Number.isInteger(i))throw new Error();for(var a=t[n],u=n+1;u<i;u++)t[u]<a&&(a=t[u]);return a}(t),s=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();var o=r.fromIndex,n=void 0===o?0:o,s=r.toIndex,i=void 0===s?t.length:s;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error();if(i<=n||i>t.length||!Number.isInteger(i))throw new Error();for(var a=t[n],u=n+1;u<i;u++)t[u]>a&&(a=t[u]);return a}(t);if(n===s)throw new Error();var i=o.min,a=void 0===i?o.autoMinMax?n:0:i,u=o.max,h=void 0===u?o.autoMinMax?s:1:u;if(a>=h)throw new Error();for(var f=(h-a)/(s-n),c=0;c<t.length;c++)r[c]=(t[c]-n)*f+a;return r}var a=" ".repeat(2),h=" ".repeat(4);function l(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.zzgs,o=void 0===e?15:e,n=r.zzks,s=void 0===n?10:n,i=r.zzo3,u=void 0===i?8:i;return"".concat(t.constructor.name," {\\n").concat(a,"[\\n").concat(h).concat(function(t,r,e,o){for(var n=t.zzk2,s=t.zzj2,i=Math.min(n,r),a=Math.min(s,e),u=[],f=0;f<i;f++){for(var c=[],l=0;l<a;l++)c.push(v(t.get(f,l),o));u.push("".concat(c.join(" ")))}return a!==s&&(u[u.length-1]+=" ... ".concat(s-e," more zzj2")),i!==n&&u.push("... ".concat(n-r," more zzk2")),u.join("\\n".concat(h))}(t,o,s,u),"\\n").concat(a,"]\\n").concat(a,"zzk2: ").concat(t.zzk2,"\\n").concat(a,"zzj2: ").concat(t.zzj2,"\\n}")}function v(t,r){var e=String(t);if(e.length<=r)return e.padEnd(r," ");var o=t.toPrecision(r-2);if(o.length<=r)return o;var n=t.zzP3(r-2),s=n.indexOf("e"),i=n.slice(s);return n.slice(0,r-i.length)+i}function m(t,r,e){var o=e?t.zzk2:t.zzk2-1;if(r<0||r>o)throw new Error()}function g(t,r,e){var o=e?t.zzj2:t.zzj2-1;if(r<0||r>o)throw new Error()}function w(t,r){if(r.zzC&&(r=r.zzC()),r.length!==t.zzj2)throw new Error();return r}function p(t,r){if(r.zzC&&(r=r.zzC()),r.length!==t.zzk2)throw new Error();return r}function y(t,r,e){return{row:function(t,r){if("object"!=c(r))throw new Error();if(r.some(function(r){return r<0||r>=t.zzk2}))throw new Error();return Array.isArray(r)||(r=Array.from(r)),r}(t,r),zz23:function(t,r){if("object"!=c(r))throw new Error();if(r.some(function(r){return r<0||r>=t.zzj2}))throw new Error();return Array.isArray(r)||(r=Array.from(r)),r}(t,e)}}function d(t,r,e,o,n){if(5!==arguments.length)throw new Error();if(M("zz0",r),M("zz1",e),M("zz2",o),M("zz3",n),r>e||o>n||r<0||r>=t.zzk2||e<0||e>=t.zzk2||o<0||o>=t.zzj2||n<0||n>=t.zzj2)throw new Error()}function b(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=[],o=0;o<t;o++)e.push(r);return e}function M(t,r){if("number"!=typeof r)throw new Error("".concat(t," must be a number"))}function x(t){if(t.zzu3())throw new Error()}var k=function(){function t(){u(this,t)}return f(t,[{key:"apply",value:function(t){if("function"!=typeof t)throw new Error();for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.call(this,r,e);return this}},{key:"zzC",value:function(){for(var t=[],r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.push(this.get(r,e));return t}},{key:"zzD",value:function(){for(var t=[],r=0;r<this.zzk2;r++){t.push([]);for(var e=0;e<this.zzj2;e++)t[r].push(this.get(r,e))}return t}},{key:"toJSON",value:function(){return this.zzD()}},{key:"zzE",value:function(){return 1===this.zzk2}},{key:"zzF",value:function(){return 1===this.zzj2}},{key:"zzG",value:function(){return 1===this.zzk2||1===this.zzj2}},{key:"zzH",value:function(){return this.zzk2===this.zzj2}},{key:"zzu3",value:function(){return 0===this.zzk2||0===this.zzj2}},{key:"zzI",value:function(){if(this.zzH()){for(var t=0;t<this.zzk2;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}},{key:"zzJ",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.zzk2&&o;){for(r=0,n=!1;r<this.zzj2&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);t++}return o}},{key:"zzK",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.zzk2&&o;){for(r=0,n=!1;r<this.zzj2&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);for(var s=r+1;s<this.zzk2;s++)0!==this.get(t,s)&&(o=!1);t++}return o}},{key:"zzv3",value:function(){for(var t=this.clone(),r=0,e=0;r<t.zzk2&&e<t.zzj2;){for(var o=r,n=r;n<t.zzk2;n++)t.get(n,e)>t.get(o,e)&&(o=n);if(0===t.get(o,e))e++;else{t.zzP(r,o);for(var s=t.get(r,e),i=e;i<t.zzj2;i++)t.set(r,i,t.get(r,i)/s);for(var a=r+1;a<t.zzk2;a++){var u=t.get(a,e)/t.get(r,e);t.set(a,e,0);for(var h=e+1;h<t.zzj2;h++)t.set(a,h,t.get(a,h)-t.get(r,h)*u)}r++,e++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.zzv3(),r=t.zzj2,e=t.zzk2,o=e-1;o>=0;)if(0===t.zzg(o))o--;else{for(var n=0,s=!1;n<e&&!1===s;)1===t.get(o,n)?s=!0:n++;for(var i=0;i<o;i++)for(var a=t.get(i,n),u=n;u<r;u++){var h=t.get(i,u)-a*t.get(o,u);t.set(i,u,h)}o--}return t}},{key:"set",value:function(){throw new Error()}},{key:"get",value:function(){throw new Error()}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.zzk2,e=void 0===r?1:r,o=t.zzj2,n=void 0===o?1:o;if(!Number.isInteger(e)||e<=0)throw new Error();if(!Number.isInteger(n)||n<=0)throw new Error();for(var s=new R(this.zzk2*e,this.zzj2*n),i=0;i<e;i++)for(var a=0;a<n;a++)s.zz61(this,this.zzk2*i,this.zzj2*a);return s}},{key:"zzL",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"zzM",value:function(t){m(this,t);for(var r=[],e=0;e<this.zzj2;e++)r.push(this.get(t,e));return r}},{key:"zzMVector",value:function(t){return R.zzE1(this.zzM(t))}},{key:"zzO",value:function(t,r){m(this,t),r=w(this,r);for(var e=0;e<this.zzj2;e++)this.set(t,e,r[e]);return this}},{key:"zzP",value:function(t,r){m(this,t),m(this,r);for(var e=0;e<this.zzj2;e++){var o=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,o)}return this}},{key:"zzQ",value:function(t){g(this,t);for(var r=[],e=0;e<this.zzk2;e++)r.push(this.get(e,t));return r}},{key:"zzQVector",value:function(t){return R.zzF1(this.zzQ(t))}},{key:"zzS",value:function(t,r){g(this,t),r=p(this,r);for(var e=0;e<this.zzk2;e++)this.set(e,t,r[e]);return this}},{key:"zzT",value:function(t,r){g(this,t),g(this,r);for(var e=0;e<this.zzk2;e++){var o=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,o)}return this}},{key:"zzU",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t[e]);return this}},{key:"zzV",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t[e]);return this}},{key:"zzW",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t[e]);return this}},{key:"zzX",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t[e]);return this}},{key:"zzY",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t[r]);return this}},{key:"zzZ",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t[r]);return this}},{key:"zza",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t[r]);return this}},{key:"zzb",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t[r]);return this}},{key:"zzc",value:function(t,r){m(this,t);for(var e=0;e<this.zzj2;e++)this.set(t,e,this.get(t,e)*r);return this}},{key:"zzd",value:function(t,r){g(this,t);for(var e=0;e<this.zzk2;e++)this.set(e,t,this.get(e,t)*r);return this}},{key:"max",value:function(){if(this.zzu3())return NaN;for(var t=this.get(0,0),r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.get(r,e)>t&&(t=this.get(r,e));return t}},{key:"zze",value:function(){x(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.get(e,o)>t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"min",value:function(){if(this.zzu3())return NaN;for(var t=this.get(0,0),r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.get(r,e)<t&&(t=this.get(r,e));return t}},{key:"zzf",value:function(){x(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.get(e,o)<t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"zzg",value:function(t){if(m(this,t),this.zzu3())return NaN;for(var r=this.get(t,0),e=1;e<this.zzj2;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}},{key:"zzgIndex",value:function(t){m(this,t),x(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.zzj2;o++)this.get(t,o)>r&&(r=this.get(t,o),e[1]=o);return e}},{key:"zzi",value:function(t){if(m(this,t),this.zzu3())return NaN;for(var r=this.get(t,0),e=1;e<this.zzj2;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}},{key:"zziIndex",value:function(t){m(this,t),x(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.zzj2;o++)this.get(t,o)<r&&(r=this.get(t,o),e[1]=o);return e}},{key:"zzk",value:function(t){if(g(this,t),this.zzu3())return NaN;for(var r=this.get(0,t),e=1;e<this.zzk2;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}},{key:"zzkIndex",value:function(t){g(this,t),x(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.zzk2;o++)this.get(o,t)>r&&(r=this.get(o,t),e[0]=o);return e}},{key:"zzm",value:function(t){if(g(this,t),this.zzu3())return NaN;for(var r=this.get(0,t),e=1;e<this.zzk2;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}},{key:"zzmIndex",value:function(t){g(this,t),x(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.zzk2;o++)this.get(o,t)<r&&(r=this.get(o,t),e[0]=o);return e}},{key:"zzo",value:function(){for(var t=Math.min(this.zzk2,this.zzj2),r=[],e=0;e<t;e++)r.push(this.get(e,e));return r}},{key:"zzp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zzw3",r=0;if("max"===t)return this.max();if("zzw3"===t){for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)r+=this.get(e,o)*this.get(e,o);return Math.sqrt(r)}throw new Error("unknown zzp type: ".concat(t))}},{key:"zzq",value:function(){for(var t=0,r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t+=this.get(r,e),this.set(r,e,t);return this}},{key:"dot",value:function(r){t.zzM1(r)&&(r=r.zzC());var e=this.zzC();if(e.length!==r.length)throw new Error();for(var o=0,n=0;n<e.length;n++)o+=e[n]*r[n];return o}},{key:"zzr",value:function(t){t=R.zzL1(t);var r=new R(this.zzk2,t.zzj2);return this.zzr2(t,r),r}},{key:"zzr2",value:function(t,r){var e=this.zzk2,o=this.zzj2,n=t.zzj2;this.Bcolj=this.Bcolj||new Float32Array(o);for(var s=this.Bcolj,i=0;i<n;i++){for(var a=0;a<o;a++)s[a]=t.get(a,i);for(var u=0;u<e;u++){for(var h=0,f=0;f<o;f++)h+=this.get(u,f)*s[f];r.set(u,i,h)}}}},{key:"zzs",value:function(t){t=R.zzL1(t);var r=new R(2,2),e=this.get(0,0),o=t.get(0,0),n=this.get(0,1),s=t.get(0,1),i=this.get(1,0),a=t.get(1,0),u=this.get(1,1),h=t.get(1,1),f=(e+u)*(o+h),c=(i+u)*o,l=e*(s-h),v=u*(a-o),m=(e+n)*h,g=f+v-m+(n-u)*(a+h),w=l+m,p=c+v,y=f-c+l+(i-e)*(o+s);return r.set(0,0,g),r.set(0,1,w),r.set(1,0,p),r.set(1,1,y),r}},{key:"zzt",value:function(t){t=R.zzL1(t);var r=new R(3,3),e=this.get(0,0),o=this.get(0,1),n=this.get(0,2),s=this.get(1,0),i=this.get(1,1),a=this.get(1,2),u=this.get(2,0),h=this.get(2,1),f=this.get(2,2),c=t.get(0,0),l=t.get(0,1),v=t.get(0,2),m=t.get(1,0),g=t.get(1,1),w=t.get(1,2),p=t.get(2,0),y=t.get(2,1),d=t.get(2,2),b=(e-s)*(-l+g),M=(-e+s+i)*(c-l+g),x=(s+i)*(-c+l),k=e*c,S=(-e+u+h)*(c-v+w),E=(-e+u)*(v-w),T=(u+h)*(-c+v),A=(-n+h+f)*(g+p-y),C=(n-f)*(g-y),I=n*p,D=(h+f)*(-p+y),N=(-n+i+a)*(w+p-d),O=(n-a)*(w-d),F=(i+a)*(-p+d),P=k+I+o*m,j=(e+o+n-s-i-h-f)*g+M+x+k+A+I+D,q=k+S+T+(e+o+n-i-a-u-h)*w+I+N+F,V=b+i*(-c+l+m-g-w-p+d)+M+k+I+N+O,z=b+M+x+k+a*y,Q=I+N+O+F+s*v,L=k+S+E+h*(-c+v+m-g-w-p+y)+A+C+I,B=A+C+I+D+u*l,U=k+S+E+T+f*d;return r.set(0,0,P),r.set(0,1,j),r.set(0,2,q),r.set(1,0,V),r.set(1,1,z),r.set(1,2,Q),r.set(2,0,L),r.set(2,1,B),r.set(2,2,U),r}},{key:"zzrStrassen",value:function(r){r=R.zzL1(r);var e=this.clone(),o=e.zzk2,n=e.zzj2,s=r.zzk2,i=r.zzj2;function a(r,e,o){var n=r.zzk2,s=r.zzj2;if(n===e&&s===o)return r;var i=t.zzG1(e,o);return i=i.zz61(r,0,0)}n!==s&&1;var u=Math.max(o,s),h=Math.max(n,i);return function r(e,o,n,s){if(n<=512||s<=512)return e.zzr(o);n%2==1&&s%2==1?(e=a(e,n+1,s+1),o=a(o,n+1,s+1)):n%2==1?(e=a(e,n+1,s),o=a(o,n+1,s)):s%2==1&&(e=a(e,n,s+1),o=a(o,n,s+1));var i=parseInt(e.zzk2/2,10),u=parseInt(e.zzj2/2,10),h=e.zz31(0,i-1,0,u-1),f=o.zz31(0,i-1,0,u-1),c=e.zz31(0,i-1,u,e.zzj2-1),l=o.zz31(0,i-1,u,o.zzj2-1),v=e.zz31(i,e.zzk2-1,0,u-1),m=o.zz31(i,o.zzk2-1,0,u-1),g=e.zz31(i,e.zzk2-1,u,e.zzj2-1),w=o.zz31(i,o.zzk2-1,u,o.zzj2-1),p=r(t.add(h,g),t.add(f,w),i,u),y=r(t.add(v,g),f,i,u),d=r(h,t.sub(l,w),i,u),b=r(g,t.sub(m,f),i,u),M=r(t.add(h,c),w,i,u),x=r(t.sub(v,h),t.add(f,l),i,u),k=r(t.sub(c,g),t.add(m,w),i,u),S=t.add(p,b);S.sub(M),S.add(k);var R=t.add(d,M),E=t.add(y,b),T=t.sub(p,y);T.add(d),T.add(x);var A=t.zzG1(2*S.zzk2,2*S.zzj2);return(A=(A=(A=(A=A.zz61(S,0,0)).zz61(R,S.zzk2,0)).zz61(E,0,S.zzj2)).zz61(T,S.zzk2,S.zzj2)).zz31(0,n-1,0,s-1)}(e=a(e,u,h),r=a(r,u,h),u,h)}},{key:"zzv",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.min,e=void 0===r?0:r,o=t.max,s=void 0===o?1:o;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(s))throw new Error();if(e>=s)throw new Error();for(var i=new R(this.zzk2,this.zzj2),a=0;a<this.zzk2;a++){var u=this.zzM(a);u.length>0&&n(u,{min:e,max:s,output:u}),i.zzO(a,u)}return i}},{key:"zzw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.min,e=void 0===r?0:r,o=t.max,s=void 0===o?1:o;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(s))throw new Error();if(e>=s)throw new Error();for(var i=new R(this.zzk2,this.zzj2),a=0;a<this.zzj2;a++){var u=this.zzQ(a);u.length&&n(u,{min:e,max:s,output:u}),i.zzS(a,u)}return i}},{key:"zzx",value:function(){for(var t=Math.ceil(this.zzj2/2),r=0;r<this.zzk2;r++)for(var e=0;e<t;e++){var o=this.get(r,e),n=this.get(r,this.zzj2-1-e);this.set(r,e,n),this.set(r,this.zzj2-1-e,o)}return this}},{key:"zzy",value:function(){for(var t=Math.ceil(this.zzk2/2),r=0;r<this.zzj2;r++)for(var e=0;e<t;e++){var o=this.get(e,r),n=this.get(this.zzk2-1-e,r);this.set(e,r,n),this.set(this.zzk2-1-e,r,o)}return this}},{key:"zzz",value:function(t){t=R.zzL1(t);for(var r=this.zzk2,e=this.zzj2,o=t.zzk2,n=t.zzj2,s=new R(r*o,e*n),i=0;i<r;i++)for(var a=0;a<e;a++)for(var u=0;u<o;u++)for(var h=0;h<n;h++)s.set(o*i+u,n*a+h,this.get(i,a)*t.get(u,h));return s}},{key:"kroneckerSum",value:function(t){if(t=R.zzL1(t),!this.zzH()||!t.zzH())throw new Error();var r=this.zzk2,e=t.zzk2,o=this.zzz(R.zzJ1(e,e)),n=R.zzJ1(r,r).zzz(t);return o.add(n)}},{key:"zz01",value:function(){var t=new R(this.zzj2,this.zzk2);return this.zz012(t),t}},{key:"zz012",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.set(e,r,this.get(r,e))}},{key:"zz11",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.zzk2;r++)this.zzO(r,this.zzM(r).sort(t));return this}},{key:"zz21",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.zzj2;r++)this.zzS(r,this.zzQ(r).sort(t));return this}},{key:"zz31",value:function(t,r,e,o){d(this,t,r,e,o);for(var n=new R(r-t+1,o-e+1),s=t;s<=r;s++)for(var i=e;i<=o;i++)n.set(s-t,i-e,this.get(s,i));return n}},{key:"zz31Row",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.zzj2-1),r>e||r<0||r>=this.zzj2||e<0||e>=this.zzj2)throw new Error();for(var o=new R(t.length,e-r+1),n=0;n<t.length;n++)for(var s=r;s<=e;s++){if(t[n]<0||t[n]>=this.zzk2)throw new Error("Row index out of range: ".concat(t[n]));o.set(n,s-r,this.get(t[n],s))}return o}},{key:"zz31Column",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.zzk2-1),r>e||r<0||r>=this.zzk2||e<0||e>=this.zzk2)throw new Error();for(var o=new R(e-r+1,t.length),n=0;n<t.length;n++)for(var s=r;s<=e;s++){if(t[n]<0||t[n]>=this.zzj2)throw new Error("Column index out of range: ".concat(t[n]));o.set(s-r,n,this.get(s,t[n]))}return o}},{key:"zz61",value:function(t,r,e){if((t=R.zzL1(t)).zzu3())return this;d(this,r,r+t.zzk2-1,e,e+t.zzj2-1);for(var o=0;o<t.zzk2;o++)for(var n=0;n<t.zzj2;n++)this.set(r+o,e+n,t.get(o,n));return this}},{key:"zz71",value:function(t,r){for(var e=y(this,t,r),o=new R(t.length,r.length),n=0;n<e.row.length;n++)for(var s=e.row[n],i=0;i<e.zz23.length;i++){var a=e.zz23[i];o.set(n,i,this.get(s,a))}return o}},{key:"trace",value:function(){for(var t=Math.min(this.zzk2,this.zzj2),r=0,e=0;e<t;e++)r+=this.get(e,e);return r}},{key:"copy",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,t.get(r,e))}},{key:"reset",value:function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,0)}},{key:"clone",value:function(){var t=new R(this.zzk2,this.zzj2);return t.copy(this),t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var r=b(t.zzk2),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[e]+=t.get(e,o);return r}(this);case"zz23":return function(t){for(var r=b(t.zzj2),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[o]+=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=0,e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)r+=t.get(e,o);return r}(this);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zz81",value:function(t){switch(t){case"row":return function(t){for(var r=b(t.zzk2,1),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[e]*=t.get(e,o);return r}(this);case"zz23":return function(t){for(var r=b(t.zzj2,1),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[o]*=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=1,e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)r*=t.get(e,o);return r}(this);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zz91",value:function(t){var r=this.sum(t);switch(t){case"row":for(var e=0;e<this.zzk2;e++)r[e]/=this.zzj2;return r;case"zz23":for(var o=0;o<this.zzj2;o++)r[o]/=this.zzk2;return r;case void 0:return r/this.zzC1;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zzA1",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r,o=e.unbiased,n=void 0===o||o,s=e.zz91,i=void 0===s?this.zz91(t):s;if("boolean"!=typeof n)throw new Error();switch(t){case"row":if(!Array.isArray(i))throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=[],i=0;i<o;i++){for(var a=0,u=0,h=0,f=0;f<n;f++)a+=h=t.get(i,f)-e[i],u+=h*h;r?s.push((u-a*a/n)/(n-1)):s.push((u-a*a/n)/n)}return s}(this,n,i);case"zz23":if(!Array.isArray(i))throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=[],i=0;i<n;i++){for(var a=0,u=0,h=0,f=0;f<o;f++)a+=h=t.get(f,i)-e[i],u+=h*h;r?s.push((u-a*a/o)/(o-1)):s.push((u-a*a/o)/o)}return s}(this,n,i);case void 0:if("number"!=typeof i)throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=o*n,i=0,a=0,u=0,h=0;h<o;h++)for(var f=0;f<n;f++)i+=u=t.get(h,f)-e,a+=u*u;return r?(a-i*i/s)/(s-1):(a-i*i/s)/s}(this,n,i);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zzB1",value:function(t,r){"object"==c(t)&&(r=t,t=void 0);var e=this.zzA1(t,r);if(void 0===t)return Math.sqrt(e);for(var o=0;o<e.length;o++)e[o]=Math.sqrt(e[o]);return e}},{key:"center",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r.center,o=void 0===e?this.zz91(t):e;switch(t){case"row":if(!Array.isArray(o))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r[e])}(this,o),this;case"zz23":if(!Array.isArray(o))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r[o])}(this,o),this;case void 0:if("number"!=typeof o)throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r)}(this,o),this;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"scale",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r.scale;switch(t){case"row":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.zzk2;e++){for(var o=0,n=0;n<t.zzj2;n++)o+=Math.pow(t.get(e,n),2)/(t.zzj2-1);r.push(Math.sqrt(o))}return r}(this);else if(!Array.isArray(e))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r[e])}(this,e),this;case"zz23":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.zzj2;e++){for(var o=0,n=0;n<t.zzk2;n++)o+=Math.pow(t.get(n,e),2)/(t.zzk2-1);r.push(Math.sqrt(o))}return r}(this);else if(!Array.isArray(e))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r[o])}(this,e),this;case void 0:if(void 0===e)e=function(t){for(var r=t.zzC1-1,e=0,o=0;o<t.zzj2;o++)for(var n=0;n<t.zzk2;n++)e+=Math.pow(t.get(n,o),2)/r;return Math.sqrt(e)}(this);else if("number"!=typeof e)throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r)}(this,e),this;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"toString",value:function(t){return l(this,t)}},{key:"zzC1",get:function(){return this.zzk2*this.zzj2}}],[{key:"zzD1",value:function(t,r,e){if(t*r!==e.length)throw new Error();for(var o=new R(t,r),n=0;n<t;n++)for(var s=0;s<r;s++)o.set(n,s,e[n*r+s]);return o}},{key:"zzE1",value:function(t){for(var r=new R(1,t.length),e=0;e<t.length;e++)r.set(0,e,t[e]);return r}},{key:"zzF1",value:function(t){for(var r=new R(t.length,1),e=0;e<t.length;e++)r.set(e,0,t[e]);return r}},{key:"zzG1",value:function(t,r){return new R(t,r)}},{key:"zzH1",value:function(t,r){return new R(t,r).zzL(1)}},{key:"rand",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=c(e))throw new Error();for(var o=e.random,n=void 0===o?Math.random:o,s=new R(t,r),i=0;i<t;i++)for(var a=0;a<r;a++)s.set(i,a,n());return s}},{key:"zzI1",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=c(e))throw new Error();var o=e.min,n=void 0===o?0:o,s=e.max,i=void 0===s?1e3:s,a=e.random,u=void 0===a?Math.random:a;if(!Number.isInteger(n))throw new Error();if(!Number.isInteger(i))throw new Error();if(n>=i)throw new Error();for(var h=i-n,f=new R(t,r),l=0;l<t;l++)for(var v=0;v<r;v++){var m=n+Math.round(u()*h);f.set(l,v,m)}return f}},{key:"zzJ1",value:function(t,r,e){void 0===r&&(r=t),void 0===e&&(e=1);for(var o=Math.min(t,r),n=this.zzG1(t,r),s=0;s<o;s++)n.set(s,s,e);return n}},{key:"zzo",value:function(t,r,e){var o=t.length;void 0===r&&(r=o),void 0===e&&(e=r);for(var n=Math.min(o,r,e),s=this.zzG1(r,e),i=0;i<n;i++)s.set(i,i,t[i]);return s}},{key:"min",value:function(t,r){t=this.zzL1(t),r=this.zzL1(r);for(var e=t.zzk2,o=t.zzj2,n=new R(e,o),s=0;s<e;s++)for(var i=0;i<o;i++)n.set(s,i,Math.min(t.get(s,i),r.get(s,i)));return n}},{key:"max",value:function(t,r){t=this.zzL1(t),r=this.zzL1(r);for(var e=t.zzk2,o=t.zzj2,n=new this(e,o),s=0;s<e;s++)for(var i=0;i<o;i++)n.set(s,i,Math.max(t.get(s,i),r.get(s,i)));return n}},{key:"zzL1",value:function(r){return t.zzM1(r)?r:new R(r)}},{key:"zzM1",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function S(t,r){return t-r}k.prototype.klass="Matrix","undefined"!=typeof Symbol&&(k.prototype[Symbol.for("zze3")]=function(){return l(this)}),k.random=k.rand,k.randomInt=k.zzI1,k.zzoonal=k.zzo,k.prototype.zzoonal=k.prototype.zzo,k.zzo2=k.zzJ1,k.prototype.negate=k.prototype.neg,k.prototype.zzI3=k.prototype.zzz;var R=function(t){o(e,k);var r=s(e);function e(t,o){var n;if(u(this,e),n=r.call(this),e.zzM1(t))return i(n,t.clone());if(Number.isInteger(t)&&t>=0)n.dataFlatten=new Float32Array(o*t);else{if(!Array.isArray(t))throw new Error();var s=t;if("number"!=typeof(o=(t=s.length)?s[0].length:0))n.dataFlatten=new Float32Array(s);else{n.dataFlatten=new Float32Array(o*t);for(var a=0;a<t;a++)for(var h=0;h<o;h++)n.dataFlatten[a*o+h]=s[a][h]}}return n.zzk2=t,n.zzj2=o,i(n)}return f(e,[{key:"set",value:function(t,r,e){return this.dataFlatten[t*this.zzj2+r]=e,this}},{key:"get",value:function(t,r){return this.dataFlatten[t*this.zzj2+r]}},{key:"zzn3",value:function(t,r,e){this.dataFlatten[t*this.zzj2+r]+=e}},{key:"mulComponent",value:function(t,r,e){this.dataFlatten[t*this.zzj2+r]*=e}}]),e}();!function(t,r){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t);return this},t.prototype.addM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)+t.get(e,o));return this},t.add=function(t,e){return new r(t).add(e)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t);return this},t.prototype.subM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)-t.get(e,o));return this},t.sub=function(t,e){return new r(t).sub(e)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.zzi3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,0)},t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t);return this},t.prototype.mulM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)*t.get(e,o));return this},t.mul=function(t,e){return new r(t).mul(e)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t);return this},t.prototype.divM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)/t.get(e,o));return this},t.div=function(t,e){return new r(t).div(e)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)%t);return this},t.prototype.modM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)%t.get(e,o));return this},t.mod=function(t,e){return new r(t).mod(e)},t.prototype.zzO3=t.prototype.mod,t.prototype.zzO3S=t.prototype.modS,t.prototype.zzO3M=t.prototype.modM,t.zzO3=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)&t);return this},t.prototype.andM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)&t.get(e,o));return this},t.and=function(t,e){return new r(t).and(e)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)|t);return this},t.prototype.orM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)|t.get(e,o));return this},t.or=function(t,e){return new r(t).or(e)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)^t);return this},t.prototype.xorM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)^t.get(e,o));return this},t.xor=function(t,e){return new r(t).xor(e)},t.prototype.zzQ3=function(t){return"number"==typeof t?this.zzQ3S(t):this.zzQ3M(t)},t.prototype.zzQ3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)<<t);return this},t.prototype.zzQ3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)<<t.get(e,o));return this},t.zzQ3=function(t,e){return new r(t).zzQ3(e)},t.prototype.zzJ3=function(t){return"number"==typeof t?this.zzJ3S(t):this.zzJ3M(t)},t.prototype.zzJ3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)>>t);return this},t.prototype.zzJ3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)>>t.get(e,o));return this},t.zzJ3=function(t,e){return new r(t).zzJ3(e)},t.prototype.zzL3=function(t){return"number"==typeof t?this.zzL3S(t):this.zzL3M(t)},t.prototype.zzL3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)>>>t);return this},t.prototype.zzL3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)>>>t.get(e,o));return this},t.zzL3=function(t,e){return new r(t).zzL3(e)},t.prototype.zzK3=t.prototype.zzL3,t.prototype.zzK3S=t.prototype.zzL3S,t.prototype.zzK3M=t.prototype.zzL3M,t.zzK3=t.zzL3,t.prototype.not=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,~this.get(t,r));return this},t.not=function(t){return new r(t).not()},t.prototype.abs=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.abs(this.get(t,r)));return this},t.abs=function(t){return new r(t).abs()},t.prototype.acos=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.acos(this.get(t,r)));return this},t.acos=function(t){return new r(t).acos()},t.prototype.zzM3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.zzM3(this.get(t,r)));return this},t.zzM3=function(t){return new r(t).zzM3()},t.prototype.asin=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.asin(this.get(t,r)));return this},t.asin=function(t){return new r(t).asin()},t.prototype.zzN3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.zzN3(this.get(t,r)));return this},t.zzN3=function(t){return new r(t).zzN3()},t.prototype.atan=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.atan(this.get(t,r)));return this},t.atan=function(t){return new r(t).atan()},t.prototype.atanh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.atanh(this.get(t,r)));return this},t.atanh=function(t){return new r(t).atanh()},t.prototype.cbrt=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cbrt(this.get(t,r)));return this},t.cbrt=function(t){return new r(t).cbrt()},t.prototype.ceil=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.ceil(this.get(t,r)));return this},t.ceil=function(t){return new r(t).ceil()},t.prototype.clz32=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.clz32(this.get(t,r)));return this},t.clz32=function(t){return new r(t).clz32()},t.prototype.cos=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cos(this.get(t,r)));return this},t.cos=function(t){return new r(t).cos()},t.prototype.cosh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cosh(this.get(t,r)));return this},t.cosh=function(t){return new r(t).cosh()},t.prototype.exp=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.exp(this.get(t,r)));return this},t.exp=function(t){return new r(t).exp()},t.prototype.expm1=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.expm1(this.get(t,r)));return this},t.expm1=function(t){return new r(t).expm1()},t.prototype.floor=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.floor(this.get(t,r)));return this},t.floor=function(t){return new r(t).floor()},t.prototype.fround=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.fround(this.get(t,r)));return this},t.fround=function(t){return new r(t).fround()},t.prototype.log=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log(this.get(t,r)));return this},t.log=function(t){return new r(t).log()},t.prototype.log1p=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log1p(this.get(t,r)));return this},t.log1p=function(t){return new r(t).log1p()},t.prototype.log10=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log10(this.get(t,r)));return this},t.log10=function(t){return new r(t).log10()},t.prototype.log2=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log2(this.get(t,r)));return this},t.log2=function(t){return new r(t).log2()},t.prototype.round=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.round(this.get(t,r)));return this},t.round=function(t){return new r(t).round()},t.prototype.sign=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sign(this.get(t,r)));return this},t.sign=function(t){return new r(t).sign()},t.prototype.sin=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sin(this.get(t,r)));return this},t.sin=function(t){return new r(t).sin()},t.prototype.sinh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sinh(this.get(t,r)));return this},t.sinh=function(t){return new r(t).sinh()},t.prototype.sqrt=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sqrt(this.get(t,r)));return this},t.sqrt=function(t){return new r(t).sqrt()},t.prototype.tan=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.tan(this.get(t,r)));return this},t.tan=function(t){return new r(t).tan()},t.prototype.tanh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.tanh(this.get(t,r)));return this},t.tanh=function(t){return new r(t).tanh()},t.prototype.trunc=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.trunc(this.get(t,r)));return this},t.trunc=function(t){return new r(t).trunc()},t.pow=function(t,e){return new r(t).pow(e)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,Math.pow(this.get(r,e),t));return this},t.prototype.powM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,Math.pow(this.get(e,o),t.get(e,o)));return this}}(k,R);var E=function(t){o(e,k);var r=s(e);function e(t){var o;u(this,e),(o=r.call(this)).zzk2=t.length,o.zzj2=t[0].length,o.dataFlatten=new Float32Array(o.zzk2*o.zzj2);for(var n=0;n<o.zzk2;n++)for(var s=0;s<o.zzj2;s++)o.dataFlatten[n*o.zzj2+s]=t[n][s];return o}return f(e,[{key:"set",value:function(t,r,e){return this.dataFlatten[t*this.zzj2+r]=e,this}},{key:"get",value:function(t,r){return this.dataFlatten[t*this.zzj2+r]}}]),e}();function T(t,r){var e=0;return Math.abs(t)>Math.abs(r)?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0!==r?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0}var A=function(){function t(r){u(this,t);var e=(r=E.zzL1(r)).zzk2,o=r.zzj2;this.QR=r.clone(),this.X=r.clone(),this.Rzzo=new Float32Array(o),this.m=e,this.n=o,this.update(r)}return f(t,[{key:"update",value:function(t){var r,e,o,n,s=this.QR,i=this.m,a=this.n,u=this.Rzzo;for(s.copy(t),o=0;o<a;o++){var h=0;for(r=o;r<i;r++)h=T(h,s.get(r,o));if(0!==h){for(s.get(o,o)<0&&(h=-h),r=o;r<i;r++)s.set(r,o,s.get(r,o)/h);for(s.set(o,o,s.get(o,o)+1),e=o+1;e<a;e++){for(n=0,r=o;r<i;r++)n+=s.get(r,o)*s.get(r,e);for(n=-n/s.get(o,o),r=o;r<i;r++)s.set(r,e,s.get(r,e)+n*s.get(r,o))}}u[o]=-h}}},{key:"solve",value:function(t){var r=this.QR,e=r.zzk2,o=t.zzj2,n=this.X;n.copy(t);var s,i,a,u,h=r.zzj2;for(a=0;a<h;a++)for(i=0;i<o;i++){for(u=0,s=a;s<e;s++)u+=r.get(s,a)*n.get(s,i);for(u=-u/r.get(a,a),s=a;s<e;s++)n.set(s,i,n.get(s,i)+u*r.get(s,a))}for(a=h-1;a>=0;a--){for(i=0;i<o;i++)n.set(a,i,n.get(a,i)/this.Rzzo[a]);for(s=0;s<a;s++)for(i=0;i<o;i++)n.set(s,i,n.get(s,i)-n.get(a,i)*r.get(s,a))}return n.zz31(0,h-1,0,o-1)}},{key:"zzY1",value:function(){for(var t=this.QR.zzj2,r=0;r<t;r++)if(0===this.Rzzo[r])return!1;return!0}},{key:"zzW1",get:function(){var t,r,e=this.QR,o=e.zzj2,n=new R(o,o);for(t=0;t<o;t++)for(r=0;r<o;r++)t<r?n.set(t,r,e.get(t,r)):t===r?n.set(t,r,this.Rzzo[t]):n.set(t,r,0);return n}},{key:"zzZ1",get:function(){var t,r,e,o,n=this.QR,s=n.zzk2,i=n.zzj2,a=new R(s,i);for(e=i-1;e>=0;e--){for(t=0;t<s;t++)a.set(t,e,0);for(a.set(e,e,1),r=e;r<i;r++)if(0!==n.get(e,e)){for(o=0,t=e;t<s;t++)o+=n.get(t,e)*a.get(t,r);for(o=-o/n.get(e,e),t=e;t<s;t++)a.set(t,r,a.get(t,r)+o*n.get(t,e))}}return a}}]),t}(),C=function(){function t(r,e){u(this,t);var o=r.zzk2,n=r.zzj2,s=Boolean(e.zzx3),i=Boolean(e.zzZ2),a=r.clone(),h=Math.min(o+1,n),f=Math.min(o,n),c=new Float32Array(h),l=new R(o,f),v=new R(n,n),m=new Float32Array(n),g=new Float32Array(o),w=new Float32Array(h),p=R.zzG1(h,h),y=R.zzG1(v.zzk2,l.zzk2),d=new R(v.zzk2,h),b=new R(v.zzk2,l.zzk2);this.m=o,this.n=n,this.ni=h,this.nu=f,this.s=c,this.si=w,this.work=g,this.e=m,this.U=l,this.V=v,this.wantu=s,this.wantv=i,this.a=a,this.Ls=p,this.VLU=y,this.X=d,this.Y=b,this.compute()}return f(t,[{key:"zz24",value:function(t){this.a.copy(t),this.U.reset(),this.V.reset(),this.compute()}},{key:"compute",value:function(){for(var t=this.m,r=this.n,e=this.ni,o=this.nu,n=this.s,s=this.si,i=this.work,a=this.e,u=this.U,h=this.V,f=this.wantu,c=this.wantv,l=this.a,v=0;v<e;v++)s[v]=v;for(var m=Math.min(t-1,r),g=Math.max(0,Math.min(r-2,t)),w=Math.max(m,g),p=0;p<w;p++){if(p<m){n[p]=0;for(var y=p;y<t;y++)n[p]=T(n[p],l.get(y,p));if(0!==n[p]){l.get(p,p)<0&&(n[p]=-n[p]);for(var d=p;d<t;d++)l.set(d,p,l.get(d,p)/n[p]);l.set(p,p,l.get(p,p)+1)}n[p]=-n[p]}for(var b=p+1;b<r;b++){if(p<m&&0!==n[p]){for(var M=0,x=p;x<t;x++)M+=l.get(x,p)*l.get(x,b);M=-M/l.get(p,p);for(var k=p;k<t;k++)l.set(k,b,l.get(k,b)+M*l.get(k,p))}a[b]=l.get(p,b)}if(f&&p<m)for(var S=p;S<t;S++)u.set(S,p,l.get(S,p));if(p<g){a[p]=0;for(var R=p+1;R<r;R++)a[p]=T(a[p],a[R]);if(0!==a[p]){a[p+1]<0&&(a[p]=0-a[p]);for(var E=p+1;E<r;E++)a[E]/=a[p];a[p+1]+=1}if(a[p]=-a[p],p+1<t&&0!==a[p]){for(var A=p+1;A<t;A++)i[A]=0;for(var C=p+1;C<t;C++)for(var I=p+1;I<r;I++)i[C]+=a[I]*l.get(C,I);for(var D=p+1;D<r;D++)for(var N=-a[D]/a[p+1],O=p+1;O<t;O++)l.set(O,D,l.get(O,D)+N*i[O])}if(c)for(var F=p+1;F<r;F++)h.set(F,p,a[F])}}var P=Math.min(r,t+1);if(m<r&&(n[m]=l.get(m,m)),t<P&&(n[P-1]=0),g+1<P&&(a[g]=l.get(g,P-1)),a[P-1]=0,f){for(var j=m;j<o;j++){for(var q=0;q<t;q++)u.set(q,j,0);u.set(j,j,1)}for(var V=m-1;V>=0;V--)if(0!==n[V]){for(var z=V+1;z<o;z++){for(var Q=0,L=V;L<t;L++)Q+=u.get(L,V)*u.get(L,z);Q=-Q/u.get(V,V);for(var B=V;B<t;B++)u.set(B,z,u.get(B,z)+Q*u.get(B,V))}for(var U=V;U<t;U++)u.set(U,V,-u.get(U,V));u.set(V,V,1+u.get(V,V));for(var _=0;_<V-1;_++)u.set(_,V,0)}else{for(var G=0;G<t;G++)u.set(G,V,0);u.set(V,V,1)}}if(c)for(var W=r-1;W>=0;W--){if(W<g&&0!==a[W])for(var X=W+1;X<r;X++){for(var Y=0,J=W+1;J<r;J++)Y+=h.get(J,W)*h.get(J,X);Y=-Y/h.get(W+1,W);for(var K=W+1;K<r;K++)h.set(K,X,h.get(K,X)+Y*h.get(K,W))}for(var H=0;H<r;H++)h.set(H,W,0);h.set(W,W,1)}for(var Z=P-1,$=Number.EPSILON;P>0;){var tt=void 0,rt=void 0;for(tt=P-2;tt>=-1&&-1!==tt;tt--){var et=Number.MIN_VALUE+$*Math.abs(n[tt]+Math.abs(n[tt+1]));if(Math.abs(a[tt])<=et||Number.isNaN(a[tt])){a[tt]=0;break}}if(tt===P-2)rt=4;else{var ot=void 0;for(ot=P-1;ot>=tt&&ot!==tt;ot--){var nt=(ot!==P?Math.abs(a[ot]):0)+(ot!==tt+1?Math.abs(a[ot-1]):0);if(Math.abs(n[ot])<=$*nt){n[ot]=0;break}}ot===tt?rt=3:ot===P-1?rt=1:(rt=2,tt=ot)}switch(tt++,rt){case 1:var st=a[P-2];a[P-2]=0;for(var it=P-2;it>=tt;it--){var at=T(n[it],st),ut=n[it]/at,ht=st/at;if(n[it]=at,it!==tt&&(st=-ht*a[it-1],a[it-1]=ut*a[it-1]),c)for(var ft=0;ft<r;ft++)at=ut*h.get(ft,it)+ht*h.get(ft,P-1),h.set(ft,P-1,-ht*h.get(ft,it)+ut*h.get(ft,P-1)),h.set(ft,it,at)}break;case 2:var ct=a[tt-1];a[tt-1]=0;for(var lt=tt;lt<P;lt++){var vt=T(n[lt],ct),mt=n[lt]/vt,gt=ct/vt;if(n[lt]=vt,ct=-gt*a[lt],a[lt]=mt*a[lt],f)for(var wt=0;wt<t;wt++)vt=mt*u.get(wt,lt)+gt*u.get(wt,tt-1),u.set(wt,tt-1,-gt*u.get(wt,lt)+mt*u.get(wt,tt-1)),u.set(wt,lt,vt)}break;case 3:var pt=Math.max(Math.abs(n[P-1]),Math.abs(n[P-2]),Math.abs(a[P-2]),Math.abs(n[tt]),Math.abs(a[tt])),yt=n[P-1]/pt,dt=n[P-2]/pt,bt=a[P-2]/pt,Mt=n[tt]/pt,xt=a[tt]/pt,kt=((dt+yt)*(dt-yt)+bt*bt)/2,St=yt*bt*(yt*bt),Rt=0;0===kt&&0===St||(Rt=St/(kt+(Rt=kt<0?0-Math.sqrt(kt*kt+St):Math.sqrt(kt*kt+St))));for(var Et=(Mt+yt)*(Mt-yt)+Rt,Tt=Mt*xt,At=tt;At<P-1;At++){var Ct=T(Et,Tt);0===Ct&&(Ct=Number.MIN_VALUE);var It=Et/Ct,Dt=Tt/Ct;if(At!==tt&&(a[At-1]=Ct),Et=It*n[At]+Dt*a[At],a[At]=It*a[At]-Dt*n[At],Tt=Dt*n[At+1],n[At+1]=It*n[At+1],c)for(var Nt=0;Nt<r;Nt++)Ct=It*h.get(Nt,At)+Dt*h.get(Nt,At+1),h.set(Nt,At+1,-Dt*h.get(Nt,At)+It*h.get(Nt,At+1)),h.set(Nt,At,Ct);if(0===(Ct=T(Et,Tt))&&(Ct=Number.MIN_VALUE),It=Et/Ct,Dt=Tt/Ct,n[At]=Ct,Et=It*a[At]+Dt*n[At+1],n[At+1]=-Dt*a[At]+It*n[At+1],Tt=Dt*a[At+1],a[At+1]=It*a[At+1],f&&At<t-1)for(var Ot=0;Ot<t;Ot++)Ct=It*u.get(Ot,At)+Dt*u.get(Ot,At+1),u.set(Ot,At+1,-Dt*u.get(Ot,At)+It*u.get(Ot,At+1)),u.set(Ot,At,Ct)}a[P-2]=Et;break;case 4:if(n[tt]<=0&&(n[tt]=n[tt]<0?-n[tt]:0,c))for(var Ft=0;Ft<=Z;Ft++)h.set(Ft,tt,-h.get(Ft,tt));for(;tt<Z&&!(n[tt]>=n[tt+1]);){var Pt=n[tt];if(n[tt]=n[tt+1],n[tt+1]=Pt,c&&tt<r-1)for(var jt=0;jt<r;jt++)Pt=h.get(jt,tt+1),h.set(jt,tt+1,h.get(jt,tt)),h.set(jt,tt,Pt);if(f&&tt<t-1)for(var qt=0;qt<t;qt++)Pt=u.get(qt,tt+1),u.set(qt,tt+1,u.get(qt,tt)),u.set(qt,tt,Pt);tt++}P--}}}},{key:"solve",value:function(t){for(var r=t,e=this.zzf1,o=this.s.length,n=this.Ls,s=this.VLU,i=0;i<o;i++)Math.abs(this.s[i])<=e?n.set(i,i,0):n.set(i,i,1/this.s[i]);for(var a=this.U,u=this.zzh1,h=u.zzr(n),f=u.zzk2,c=a.zzk2,l=0;l<f;l++)for(var v=0;v<c;v++){for(var m=0,g=0;g<o;g++)m+=h.get(l,g)*a.get(v,g);s.set(l,v,m)}return s.zzr(r)}},{key:"zza1",value:function(t){return this.solve(R.zzo(t))}},{key:"inverse",value:function(){for(var t=this.V,r=this.zzf1,e=t.zzk2,o=t.zzj2,n=this.X,s=this.Y,i=0;i<e;i++)for(var a=0;a<o;a++)Math.abs(this.s[a])>r&&n.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,h=u.zzk2,f=u.zzj2,c=0;c<e;c++)for(var l=0;l<h;l++){for(var v=0,m=0;m<f;m++)v+=n.get(c,m)*u.get(l,m);s.set(c,l,v)}return s}},{key:"zzb1",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"zzp2",get:function(){return this.s[0]}},{key:"zzd1",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,e=this.s,o=0,n=e.length;o<n;o++)e[o]>t&&r++;return r}},{key:"zzoonal",get:function(){return Array.from(this.s)}},{key:"zzf1",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"zzg1",get:function(){return this.U}},{key:"zzh1",get:function(){return this.V}},{key:"zzoonalMatrix",get:function(){return R.zzo(this.s)}}]),t}(),I=[],D=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{zzj3:-1},e=r.zzj3;if(-1!==e&&I[e]){var o=I[e];return o.zz24(t),o}var n=new C(t,Object.assign({zzx3:!0,zzZ2:!0},r));return-1!==e&&(I[e]=n),n};function N(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return e?D(t,{zzj3:o}).solve(r):new A(t).solve(r)}var O=function(t){o(e,k);var r=s(e);function e(t,o,n){var s;return u(this,e),(s=r.call(this)).matrix=t,s.zzk2=o,s.zzj2=n,s}return e}(),F=function(t){o(e,O);var r=s(e);function e(t,o,n){var s;u(this,e);var i=y(t,o,n);return(s=r.call(this,t,i.row.length,i.zz23.length)).zzy3=i.row,s.zzl2=i.zz23,s}return f(e,[{key:"set",value:function(t,r,e){return this.matrix.set(this.zzy3[t],this.zzl2[r],e),this}},{key:"get",value:function(t,r){return this.matrix.get(this.zzy3[t],this.zzl2[r])}}]),e}();t.Matrix=R,t.QR=A,t.zzT2=A,t.zz92=D,t.default=R,t.zzU1=function t(r){if(0===r.zzj2)return 1;var e,o,n,s,i,a;if(2===r.zzj2)return e=r.get(0,0),o=r.get(0,1),n=r.get(1,0),e*r.get(1,1)-o*n;if(3===r.zzj2)return s=new F(r,[1,2],[1,2]),i=new F(r,[1,2],[0,2]),a=new F(r,[1,2],[0,1]),e=r.get(0,0),o=r.get(0,1),n=r.get(0,2),e*t(s)-o*t(i)+n*t(a);throw new Error()},t.inverse2=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2?arguments[2]:void 0;return r?D(t,{zzj3:e}).inverse():N(t,R.zzJ1(t.zzk2))},t.zzp3=N,Object.defineProperty(t,"zzB",{value:!0})},"object"==(void 0===e?"undefined":c(e))&&void 0!==r?v(e):v((l=falseThis?globalThis:l||self).mlMatrix={})},{}]},{},[2])(2)});;Bb=window.zyp;a.callbackReady&&(P.Pa=a.callbackReady);a.callbackTrack&&(P.Wb=a.callbackTrack);"undefined"!==typeof a.animateDelay&&(P.gb=a.animateDelay);"undefined"!==typeof a.NNs&&(P.eb=a.NNs);"undefined"!==typeof a.NNsPaths&&(P.fb=a.NNsPaths);"undefined"!==typeof a.followZRot&&(P.sa=a.followZRot);"undefined"!==typeof a.freeZRot&&(P.dc=a.freeZRot);"undefined"!==typeof a.isTrackingEnabled&&(P.pc=a.isTrackingEnabled?!0:!1);X=Object.create(ta.hg);a.scanSettings&&Object.assign(X,a.scanSettings);
na=Object.create(ta.wg);a.stabilizationSettings&&Object.assign(na,a.stabilizationSettings);var c=1;"undefined"!==typeof a.maxHandsDetected&&(c=Math.max(1,a.maxHandsDetected));if(c>ta.Xf)return Ra("MAXHANDS_TOOHIGH"),!1;ba.o({M:c,Yd:X.multiDetectionMaxOverlap,bc:X.multiDetectionOverlapScaleXY,le:X.multiDetectionSearchSlotsRate,Nd:function(d){return d.isDetected}});if(a.canvas)P.X=a.canvas;else{if(!a.canvasId)return Ra("NO_CANVASID"),!1;P.X=document.getElementById(a.canvasId);if(!P.X)return Ra("INVALID_CANVASID"),
!1}T.C=P.X.width;T.H=P.X.height;if(!T.C||!T.H)return Ra("INVALID_CANVASDIMENSIONS"),!1;T.jb=T.C/T.H;Ua.o({Rd:!1,hb:P.gb});ua.o({xc:0,n:X.nDetectsPerLoopRange[1]-X.nDetectsPerLoopRange[0]+1,Xd:X.nDetectsPerLoopRange[0]});0!==X.nDetectsPerLoop?ua.Lc(X.nDetectsPerLoop):ua.Xc();a.stabilizationSettings&&Object.assign(na,a.stabilizationSettings);a.videoSettings&&a.videoSettings.videoElement?$a(a.videoSettings.videoElement,jb):(a.videoSettings&&Object.assign(va,a.videoSettings),D.Bc=a.onWebcamAsk,D.Dc=a.onWebcamGet,
zb(function(d){$a(d,jb)}));tb=X.animateProcessOrder.indexOf("S")<X.animateProcessOrder.indexOf("D");qb();Lb(qc);return!0},update:function(a){if(!Ab)return Promise.reject("NOT_READY");a.scanSettings&&gb.set_scanSettings(a.scanSettings);a.stabilizationSettings&&gb.set_stabilizationSettings(a.stabilizationSettings);var c=Promise.resolve();if(a.NNsPaths||a.NNs){rb();ha=ea.uc;qb();ja.forEach(function(d){d.model.m()});ja.splice(0);for(c=0;c<ba.ja();++c)pa[c].detected=0,pa.isDetected=!1,Pa[c].Ta=0;a.NNsPaths?
P.fb=a.NNsPaths:a.NNs&&(P.eb=a.NNs);c=new Promise(function(d){Lb(function(e){Ob(e);Ya();d()})})}return c},retry_cameraAccess:function(){return new Promise(function(a,c){ha!==ea.error?c("NOT_APPLICABLE"):(ha=ea.uc,zb(function(d){$a(d,jb);a()}))})},destroy:function(){if(kb)return Promise.reject("ALREADY_DESTROYING");fb=null;Ab=!1;kb=!0;Ua.m();return new Promise(function(a){gb.toggle_pause(!0,!0).finally(function(){hc();T.Ca=null;fa.ya=null;fa.cb=null;D.I=null;ha=ea.Hb;kb=!1;a()}).catch(function(){})})},
toggle_videoStream:function(a){return D.zb||!D.element?Promise.resolve():V.ye(D.element,a,D.Qa)},toggle_pause:function(a,c){if(-1===[ea.play,ea.pause].indexOf(ha))return Promise.reject("NOT_READY");c=c?gb.toggle_videoStream(!a):Promise.resolve();a?rb():c.then(function(){Ya()});return c},toggle_tracking:function(a){-1!==[ea.play,ea.pause].indexOf(ha)&&(P.pc=a)},update_videoSettings:function(a){rb();return new Promise(function(c,d){V.ye(D.element,!1,D.Qa).then(function(){Object.assign(va,a);zb(function(e){$a(e,
function(){Wa();Va();Ya();c()})})}).catch(d)})},set_animateDelay:function(a){P.gb=a;Ua.update({hb:P.gb})},resize:function(){if(!P||!P.X)return!1;var a=P.X.width,c=P.X.height;if(!yb()&&a===T.C&&c===T.H)return!1;T.C=a;T.H=c;T.jb=T.C/T.H;H.L();xb();wb();Wa();Va();return!0},set_inputTexture:function(a,c,d,e){D.G[0]=c;D.G[1]=d;D.Od=e||!1;D.I=aa.instance({width:c,height:d,jc:a});D.Xa=!0;Wa();Ga.Id();Va()},reset_inputTexture:function(){D.Xa=!1;D.I=D.Rc;yb();Wa();Va()},render_video:function(){Aa.N();H.L();
H.set("s55");H.re("u38",D.da);b.viewport(0,0,T.C,T.H);D.I.h(0);U.l(!0,!0);H.re("u38",D.u)},get_videoDevices:function(a){return V.Ff(a)},set_scanSettings:function(a){Object.assign(X,a);0!==X.nDetectsPerLoop?ua.Lc(X.nDetectsPerLoop):ua.Xc();xb();wb()},set_stabilizationSettings:function(a){Object.assign(na,a)},update_videoElement:function(a,c){$a(a,function(){Nb();Wa();Va();c&&c();ha===ea.te&&Ya()})},capture_image:function(a){return Ga.tf(a)},get_LMLabels:function(){return Ma.labels},get_LM:function(){return Ma.ee},
reset:function(){pa.forEach(function(a){Object.assign(a,{detected:0,isDetected:!1,x:0,y:0,s:1,rz:0})});fa.ya.Ja(fa.Pc);fa.cb.Ja(fa.Pc);Qa.reset()},compute_pose:function(a,c,d,e){null===fb&&(Oa[0]=d,Oa[1]=e,fb=new Bb.zypSolver({cameraFocals:Oa,zyp15:ta.vg}));if(Oa[0]!==d||Oa[1]!==e)Oa[0]=d,Oa[1]=e,fb.zyp14(Oa);a=fb.solve(a,c,!1);return{ok:a.zyp13,repError:a.repError,rotation:a.R,translation:a.t}}};return gb}();
;return WEBARROCKSHAND||window.WEBARROCKSHAND;})();